<!doctype html>
<html class="alectryon-standalone">
  <head>
    <title>PropertyPreservedAfterSorting.v</title>
    <meta charset="utf-8" />
    <meta content="Alectryon" name="generator" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="alectryon.css" rel="stylesheet" />
    <link href="pygments.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css"
      integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw=="
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css"
      integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA=="
      crossorigin="anonymous"
    />
    <script src="alectryon.js"></script>
  </head>
  <body>
    <article class="alectryon-root alectryon-centered">
      <div class="alectryon-banner">
        Built with
        <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>,
        running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span
          class="alectryon-bubble"
        ></span
        >) indicate interactive fragments: hover for details, tap to reveal
        contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate,
        <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of
        <kbd>Ctrl</kbd>.
      </div>
      <pre
        class="alectryon-io highlight"
      ><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> numbers list.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file ssrmatching_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file ssreflect_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> CoqCP <span class="kn">Require Import</span> Options SelectionSort Comparator ListDecomposition Sorted SelectionSortProperties SwapUpdate PickSmallestInRangeProperties.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1"><span class="kn">Lemma</span> <span class="nf">propertyPreservedAfterSwapping</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">default</span> : A) (<span class="nv">comparator</span> : Comparator A) (<span class="nv">l</span> : list A) (<span class="nv">property</span> : list A -&gt; <span class="kt">Prop</span>) (<span class="nv">hPreserve</span> : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> <span class="nv">a1</span> <span class="nv">a2</span>, <span class="nb">compare</span> _ comparator a2 a1 -&gt; property (l1 ++ [a1] ++ l2 ++ [a2] ++ l3) -&gt; property (l1 ++ [a2] ++ l2 ++ [a1] ++ l3)) (<span class="nv">hProperty</span> : property l) (<span class="nv">i</span> : nat) (<span class="nv">hInBounds</span> : i &lt; length l) : property (<span class="nb">swap</span> l i (pickSmallestInRange default (<span class="nb">compare</span> _ comparator) i (length l - <span class="mi">1</span>) l) default).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i (length l - <span class="mi">1</span>) l)
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i 
        (length l - <span class="mi">1</span>) l) default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3"><span class="nb">pose proof</span> pickSmallestInRangeCompare default comparator l i (length l - <span class="mi">1</span> - i) <span class="mi">0</span> <span class="kp">ltac</span>:(<span class="bp">lia</span>) <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth (i + <span class="mi">0</span>) l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i
          (i + (length l - <span class="mi">1</span> - i)) l) l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i 
        (length l - <span class="mi">1</span>) l) default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4"><span class="nb">assert</span> (H1 : i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth (i + <span class="mi">0</span>) l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i
          (i + (length l - <span class="mi">1</span> - i)) l) l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth (i + <span class="mi">0</span>) l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i
          (i + (length l - <span class="mi">1</span> - i)) l) l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk5"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i 
        (length l - <span class="mi">1</span>) l) default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth (i + <span class="mi">0</span>) l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i
          (i + (length l - <span class="mi">1</span> - i)) l) l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth (i + <span class="mi">0</span>) l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i
          (i + (length l - <span class="mi">1</span> - i)) l) l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i 
        (length l - <span class="mi">1</span>) l) default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk8"><span class="nb">rewrite</span> H1, Nat.add_0_r <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default)
    (nth
       (pickSmallestInRange default
          (<span class="nb">compare</span> A comparator) i 
          (length l - <span class="mi">1</span>) l) l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span> l i
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) i 
        (length l - <span class="mi">1</span>) l) default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk9"><span class="nb">remember</span> (pickSmallestInRange default (<span class="nb">compare</span> A comparator) i (length l - <span class="mi">1</span>) l) <span class="kr">as</span> j <span class="nb">eqn</span>:Heqj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chka"><span class="nb">pose proof</span> pickSmallestInRangeUpperBound default (<span class="nb">compare</span> A comparator) l i (length l - <span class="mi">1</span> - i) <span class="kr">as</span> upperBound.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i
  (i + (length l - <span class="mi">1</span> - i)) l
‚â§ i + (length l - <span class="mi">1</span> - i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chkb"><span class="nb">rewrite</span> H1, &lt;- Heqj <span class="kr">in</span> upperBound.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chkc"><span class="nb">pose proof</span> pickSmallestInRangeInvariant default (<span class="nb">compare</span> A comparator) l i (length l - <span class="mi">1</span> - i) <span class="kr">as</span> hLeq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i
‚â§ foldl
    (<span class="kr">Œª</span> <span class="nv">_0</span> <span class="nv">_1</span> : nat,
       <span class="kr">if</span>
        <span class="nb">compare</span> A comparator 
          (nth _1 l default) 
          (nth _0 l default)
       <span class="kr">then</span> _1
       <span class="kr">else</span> _0) i
    (ListRange.range2 i
       (i + (length l - <span class="mi">1</span> - i)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chkd"><span class="nb">rewrite</span> pickSmallestInRangeFold, H1, &lt;- Heqj <span class="kr">in</span> hLeq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chke"><span class="nb">assert</span> (hSplit : i = j \/ i &lt; j).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j ‚à® i &lt; j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>hSplit</var><span class="hyp-type"><b>: </b><span>i = j ‚à® i &lt; j</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chkf"><hr></label><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk10">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j ‚à® i &lt; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk11">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>hSplit</var><span class="hyp-type"><b>: </b><span>i = j ‚à® i &lt; j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk12"><span class="nb">destruct</span> hSplit <span class="kr">as</span> [H0 | H0].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk13"><hr></label><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk14">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk15"><span class="nb">rewrite</span> H0, swapSelf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk16">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk17"><span class="nb">pose proof</span> proj1 (lessThanOrEqual comparator (nth i l default) (nth j l default)) H <span class="kr">as</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>nth i l default = nth j l default
‚à® <span class="nb">compare</span> A comparator 
    (nth j l default) (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk18"><span class="nb">destruct</span> H2 <span class="kr">as</span> [H2 | H2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>nth i l default = nth j l default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk19"><hr></label><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>nth i l default = nth j l default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1b"><span class="nb">unfold</span> <span class="nb">swap</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>nth i l default = nth j l default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (&lt;[j:=nth i l default]&gt; (&lt;[i:=nth j l default]&gt; l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1c"><span class="nb">rewrite</span> &lt;- H2, updateSelf, H2, updateSelf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>nth i l default = nth j l default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property (<span class="nb">swap</span> l i j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1e"><span class="nb">rewrite</span> (listDecomposition l i j <span class="kp">ltac</span>:(<span class="bp">lia</span>) <span class="kp">ltac</span>:(<span class="bp">lia</span>) default).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk1f"><span class="nb">assert</span> (takeLength : i = length (take i l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = length (take i l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk20"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk21">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = length (take i l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk22"><span class="nb">rewrite</span> take_length.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i `min` length l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk23">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk24"><span class="nb">assert</span> (hRewrite : <span class="nb">swap</span> (take i l ++ [nth i l default] ++ drop (S i) (take j l) ++ [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default = <span class="nb">swap</span> (take i l ++ [nth i l default] ++ drop (S i) (take j l) ++ [nth j l default] ++ drop (j + <span class="mi">1</span>) l) (length (take i l)) j default).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
  (length (take i l)) j default</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j
  default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
  (length (take i l)) j default</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk25"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk26">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
  (length (take i l)) j default</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk27"><span class="nb">rewrite</span> &lt;- <span class="nl">?takeLength</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk28">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j
  default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
  (length (take i l)) j default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk29"><span class="nb">rewrite</span> hRewrite.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>i = length (take i l)</span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span><span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l) i j
  default =
<span class="nb">swap</span>
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
  (length (take i l)) j default</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2a"><span class="nb">clear</span> hRewrite takeLength.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2b"><span class="nb">assert</span> (takeLength : j = length (take i l) + length (drop (S i) (take j l)) + <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j =
length (take i l) + length (drop (S i) (take j l)) + <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk2c"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j =
length (take i l) + length (drop (S i) (take j l)) + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2e"><span class="nb">rewrite</span> take_length, drop_length, take_length.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j = i `min` length l + (j `min` length l - S i) + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk2f"><span class="nb">assert</span> (subtask1 : i `min` length l = i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i `min` length l = i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk30" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk30"><hr></label><div class="goal-conclusion">j = i `min` length l + (j `min` length l - S i) + <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk31">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i `min` length l = i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk32">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j = i `min` length l + (j `min` length l - S i) + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk33"><span class="nb">assert</span> (subtask2 : j `min` length l = j).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j `min` length l = j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br><span><var>subtask2</var><span class="hyp-type"><b>: </b><span>j `min` length l = j</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk34"><hr></label><div class="goal-conclusion">j = i `min` length l + (j `min` length l - S i) + <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk35">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j `min` length l = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk36">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br><span><var>subtask2</var><span class="hyp-type"><b>: </b><span>j `min` length l = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j = i `min` length l + (j `min` length l - S i) + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk37"><span class="nb">rewrite</span> subtask1, subtask2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>subtask1</var><span class="hyp-type"><b>: </b><span>i `min` length l = i</span></span></span><br><span><var>subtask2</var><span class="hyp-type"><b>: </b><span>j `min` length l = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j = i + (j - S i) + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk38">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk39"><span class="nb">assert</span> (hRewrite : property (<span class="nb">swap</span> (take i l ++ [nth i l default] ++ drop (S i) (take j l) ++ [nth j l default] ++ drop (j + <span class="mi">1</span>) l) (length (take i l)) j default) = property (<span class="nb">swap</span> (take i l ++ [nth i l default] ++ drop (S i) (take j l) ++ [nth j l default] ++ drop (j + <span class="mi">1</span>) l) (length (take i l)) (length (take i l) + length (drop (S i) (take j l)) + <span class="mi">1</span>) default)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l))
     (length (take i l) +
      length (drop (S i) (take j l)) + <span class="mi">1</span>) default)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l))
     (length (take i l) +
      length (drop (S i) (take j l)) + <span class="mi">1</span>)
     default)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk3a"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l))
     (length (take i l) +
      length (drop (S i) (take j l)) + <span class="mi">1</span>) default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3c"><span class="nb">rewrite</span> &lt;- <span class="nl">?takeLength</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l))
     (length (take i l) +
      length (drop (S i) (take j l)) + <span class="mi">1</span>)
     default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3e"><span class="nb">rewrite</span> hRewrite, swapApp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br><span><var>takeLength</var><span class="hyp-type"><b>: </b><span>j =
length (take i l) +
length (drop (S i) (take j l)) + <span class="mi">1</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l)) j default) =
property
  (<span class="nb">swap</span>
     (take i l ++
      [nth i l default] ++
      drop (S i) (take j l) ++
      [nth j l default] ++ drop (j + <span class="mi">1</span>) l)
     (length (take i l))
     (length (take i l) +
      length (drop (S i) (take j l)) + <span class="mi">1</span>)
     default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (take i l ++
   [nth j l default] ++
   drop (S i) (take j l) ++
   [nth i l default] ++ drop (j + <span class="mi">1</span>) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk3f"><span class="nb">clear</span> hRewrite takeLength.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (take i l ++
   [nth j l default] ++
   drop (S i) (take j l) ++
   [nth i l default] ++ drop (j + <span class="mi">1</span>) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk40"><span class="nb">apply</span> hPreserve.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk41"><hr></label><div class="goal-conclusion">property
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk42">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk43">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (take i l ++
   [nth i l default] ++
   drop (S i) (take j l) ++
   [nth j l default] ++ drop (j + <span class="mi">1</span>) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk44"><span class="nb">rewrite</span> &lt;- (listDecomposition l i j <span class="kp">ltac</span>:(<span class="bp">lia</span>) <span class="kp">ltac</span>:(<span class="bp">lia</span>) default).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hInBounds</var><span class="hyp-type"><b>: </b><span>i &lt; length l</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>j =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) i 
  (length l - <span class="mi">1</span>) l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> A comparator 
    (nth i l default) (nth j l default)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>i + (length l - <span class="mi">1</span> - i) = length l - <span class="mi">1</span></span></span></span><br><span><var>upperBound</var><span class="hyp-type"><b>: </b><span>j ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>hLeq</var><span class="hyp-type"><b>: </b><span>i ‚â§ j</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> A comparator (nth j l default)
  (nth i l default)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk45"><span class="kn">Lemma</span> <span class="nf">propertyPreservedAfterPartialSorting</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">default</span> : A) (<span class="nv">comparator</span> : Comparator A) (<span class="nv">l</span> : list A) (<span class="nv">property</span> : list A -&gt; <span class="kt">Prop</span>) (<span class="nv">hPreserve</span> : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> <span class="nv">a1</span> <span class="nv">a2</span>, <span class="nb">compare</span> _ comparator a2 a1 -&gt; property (l1 ++ [a1] ++ l2 ++ [a2] ++ l3) -&gt; property (l1 ++ [a2] ++ l2 ++ [a1] ++ l3)) (<span class="nv">hProperty</span> : property l) (<span class="nv">iterationCount</span> : nat) (<span class="nv">hIterationCount</span> : iterationCount &lt;= length l) : property (partialSelectionSort default (<span class="nb">compare</span> _ comparator) l iterationCount).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default (<span class="nb">compare</span> A comparator)
     l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk47"><span class="nb">induction</span> iterationCount <span class="kr">as</span> [| iterationCount IHiterationCount].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk48"><hr></label><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l 
     (S iterationCount))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l 
     (S iterationCount))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4b"><span class="nb">rewrite</span> partialSelectionSortSucc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4c"><span class="nb">assert</span> (hPosition : iterationCount &lt;= pickSmallestInRange default (<span class="nb">compare</span> A comparator) iterationCount (length l - <span class="mi">1</span>)
    (partialSelectionSort default (<span class="nb">compare</span> A comparator) l iterationCount)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount
‚â§ pickSmallestInRange default 
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk4d"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount
‚â§ pickSmallestInRange default 
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk4f"><span class="nb">unfold</span> pickSmallestInRange.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount
‚â§ foldl
    (<span class="kr">Œª</span> <span class="nv">_0</span> <span class="nv">_1</span> : nat,
       <span class="kr">if</span>
        <span class="nb">compare</span> A comparator
          (nth _1
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
          (nth _0
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
       <span class="kr">then</span> _1
       <span class="kr">else</span> _0) iterationCount
    (ListRange.range2 iterationCount (length l - <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk50"><span class="nb">assert</span> (h : iterationCount + (length l - <span class="mi">1</span> - iterationCount) = length l - <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk51"><hr></label><div class="goal-conclusion">iterationCount
‚â§ foldl
    (<span class="kr">Œª</span> <span class="nv">_0</span> <span class="nv">_1</span> : nat,
       <span class="kr">if</span>
        <span class="nb">compare</span> A comparator
          (nth _1
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
          (nth _0
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
       <span class="kr">then</span> _1
       <span class="kr">else</span> _0) iterationCount
    (ListRange.range2 iterationCount (length l - <span class="mi">1</span>))</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk52">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk53">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount
‚â§ foldl
    (<span class="kr">Œª</span> <span class="nv">_0</span> <span class="nv">_1</span> : nat,
       <span class="kr">if</span>
        <span class="nb">compare</span> A comparator
          (nth _1
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
          (nth _0
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
       <span class="kr">then</span> _1
       <span class="kr">else</span> _0) iterationCount
    (ListRange.range2 iterationCount (length l - <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk54"><span class="nb">rewrite</span> &lt;- h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount
‚â§ foldl
    (<span class="kr">Œª</span> <span class="nv">_0</span> <span class="nv">_1</span> : nat,
       <span class="kr">if</span>
        <span class="nb">compare</span> A comparator
          (nth _1
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
          (nth _0
             (partialSelectionSort default
                (<span class="nb">compare</span> A comparator) l
                iterationCount) default)
       <span class="kr">then</span> _1
       <span class="kr">else</span> _0) iterationCount
    (ListRange.range2 iterationCount
       (iterationCount +
        (length l - <span class="mi">1</span> - iterationCount)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pickSmallestInRangeInvariant.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk55">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk56"><span class="nb">assert</span> (hPosition2 : iterationCount = pickSmallestInRange default (<span class="nb">compare</span> A comparator) iterationCount (length l - <span class="mi">1</span>)
    (partialSelectionSort default (<span class="nb">compare</span> A comparator) l iterationCount) \/ iterationCount &lt; pickSmallestInRange default (<span class="nb">compare</span> A comparator) iterationCount (length l - <span class="mi">1</span>)
    (partialSelectionSort default (<span class="nb">compare</span> A comparator) l iterationCount)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount 
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)
‚à® iterationCount &lt;
  pickSmallestInRange default 
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition2</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l
     iterationCount)
‚à® iterationCount &lt;
  pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk57"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk58">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount 
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)
‚à® iterationCount &lt;
  pickSmallestInRange default 
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk59">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition2</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l
     iterationCount)
‚à® iterationCount &lt;
  pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk5a"><span class="nb">destruct</span> hPosition2 <span class="kr">as</span> [H | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk5b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk5b"><hr></label><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk5c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk5d"><span class="nb">rewrite</span> &lt;- H, swapSelf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk5e"><span class="nb">pose proof</span> IHiterationCount <span class="kp">ltac</span>:(<span class="bp">lia</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount =
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk5f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk60"><span class="nb">pose proof</span> IHiterationCount <span class="kp">ltac</span>:(<span class="bp">lia</span>) <span class="kr">as</span> hNext.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length l - <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk61"><span class="nb">rewrite</span> &lt;- (partialSelectionSortPreservesLength default (<span class="nb">compare</span> _ comparator) l iterationCount).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (<span class="nb">swap</span>
     (partialSelectionSort default
        (<span class="nb">compare</span> A comparator) l iterationCount)
     iterationCount
     (pickSmallestInRange default
        (<span class="nb">compare</span> A comparator) iterationCount
        (length
           (partialSelectionSort default
              (<span class="nb">compare</span> A comparator) l iterationCount) -
         <span class="mi">1</span>)
        (partialSelectionSort default
           (<span class="nb">compare</span> A comparator) l iterationCount))
     default)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk62"><span class="nb">apply</span> propertyPreservedAfterSwapping.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk63"><hr></label><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk64" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk64"><hr></label><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk65">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk66">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk67">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk68"><span class="nb">pose proof</span> pickSmallestInRangeUpperBound default (<span class="nb">compare</span> _ comparator) l iterationCount (length l - <span class="mi">1</span> - iterationCount) <span class="kr">as</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (iterationCount +
   (length l - <span class="mi">1</span> - iterationCount)) l
‚â§ iterationCount +
  (length l - <span class="mi">1</span> - iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk69"><span class="nb">assert</span> (H1 : iterationCount + (length l - <span class="mi">1</span> - iterationCount) = length l - <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (iterationCount +
   (length l - <span class="mi">1</span> - iterationCount)) l
‚â§ iterationCount +
  (length l - <span class="mi">1</span> - iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="PropertyPreservedAfterSorting-v-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (iterationCount +
   (length l - <span class="mi">1</span> - iterationCount)) l
‚â§ iterationCount +
  (length l - <span class="mi">1</span> - iterationCount)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="PropertyPreservedAfterSorting-v-chk6a"><hr></label><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (iterationCount +
   (length l - <span class="mi">1</span> - iterationCount)) l
‚â§ iterationCount +
  (length l - <span class="mi">1</span> - iterationCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (iterationCount +
   (length l - <span class="mi">1</span> - iterationCount)) l
‚â§ iterationCount +
  (length l - <span class="mi">1</span> - iterationCount)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6d"><span class="nb">rewrite</span> H1 <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>) l ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount &lt;
length
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l iterationCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6e"><span class="nb">rewrite</span> (partialSelectionSortPreservesLength default (<span class="nb">compare</span> _ comparator) l iterationCount).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br><span><var>iterationCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hIterationCount</var><span class="hyp-type"><b>: </b><span>S iterationCount ‚â§ length l</span></span></span><br><span><var>IHiterationCount</var><span class="hyp-type"><b>: </b><span>iterationCount ‚â§ length l
‚Üí property
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>hPosition</var><span class="hyp-type"><b>: </b><span>iterationCount
‚â§ pickSmallestInRange default
    (<span class="nb">compare</span> A comparator) iterationCount
    (length l - <span class="mi">1</span>)
    (partialSelectionSort default
       (<span class="nb">compare</span> A comparator) l
       iterationCount)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>iterationCount &lt;
pickSmallestInRange default 
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>)
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>hNext</var><span class="hyp-type"><b>: </b><span>property
  (partialSelectionSort default
     (<span class="nb">compare</span> A comparator) l iterationCount)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>pickSmallestInRange default
  (<span class="nb">compare</span> A comparator) iterationCount
  (length l - <span class="mi">1</span>) l ‚â§ length l - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>iterationCount + (length l - <span class="mi">1</span> - iterationCount) =
length l - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iterationCount &lt; length l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk6f"><span class="kn">Lemma</span> <span class="nf">propertyPreservedAfterSorting</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">default</span> : A) (<span class="nv">comparator</span> : Comparator A) (<span class="nv">l</span> : list A) (<span class="nv">property</span> : list A -&gt; <span class="kt">Prop</span>) (<span class="nv">hPreserve</span> : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> <span class="nv">a1</span> <span class="nv">a2</span>, <span class="nb">compare</span> _ comparator a2 a1 -&gt; property (l1 ++ [a1] ++ l2 ++ [a2] ++ l3) -&gt; property (l1 ++ [a2] ++ l2 ++ [a1] ++ l3)) (<span class="nv">hProperty</span> : property l) : property (selectionSort default (<span class="nb">compare</span> _ comparator) l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (selectionSort default (<span class="nb">compare</span> A comparator) l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk70"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (selectionSort default (<span class="nb">compare</span> A comparator) l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="PropertyPreservedAfterSorting-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="PropertyPreservedAfterSorting-v-chk71"><span class="nb">rewrite</span> &lt;- selectionSortComplete.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>default</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>comparator</var><span class="hyp-type"><b>: </b><span>Comparator A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>property</var><span class="hyp-type"><b>: </b><span>list A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list A) (<span class="nv">_3</span> <span class="nv">_4</span> : A),
  <span class="nb">compare</span> A comparator _4 _3
  ‚Üí property
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí property
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</span></span></span><br><span><var>hProperty</var><span class="hyp-type"><b>: </b><span>property l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">property
  (partialSelectionSort default 
     (<span class="nb">compare</span> A comparator) l 
     (length l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> propertyPreservedAfterPartialSorting; <span class="kp">try</span> <span class="bp">tauto</span>; <span class="kp">try</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span></pre>
    </article>
  </body>
</html>
