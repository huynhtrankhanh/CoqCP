<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>FillInTheBlanks.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> numbers list.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file ssrmatching_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file ssreflect_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> CoqCP <span class="kn">Require Import</span> Options RegularBracketString PrefixApp ListsEqual SelectionSort Comparator Sorted SortedProperties SelectionSortProperties PropertyPreservedAfterSorting Completion.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">compareSymbols</span> (<span class="nv">a</span> <span class="nv">b</span> : Bracket) :=
  <span class="kr">match</span> a, b <span class="kr">with</span>
  | BracketOpen, BracketOpen =&gt; false
  | BracketOpen, BracketClose =&gt; true
  | BracketClose, BracketOpen =&gt; false
  | BracketClose, BracketClose =&gt; false
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1"><span class="kn">Lemma</span> <span class="nf">symbolComparator</span> : Comparator Bracket.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Comparator Bracket</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Comparator Bracket</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> {| <span class="nb">compare</span> := compareSymbols; transitive := <span class="kp">ltac</span>:(<span class="nb">intros</span> a b c h1 h2; <span class="nb">destruct</span> a; <span class="nb">destruct</span> b; <span class="nb">destruct</span> c; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">easy</span>); irreflexive := <span class="kp">ltac</span>:(<span class="nb">intro</span> a; <span class="nb">destruct</span> a; <span class="bp">easy</span>); asymmetry := <span class="kp">ltac</span>:(<span class="nb">intros</span> a b h; <span class="nb">destruct</span> a; <span class="nb">destruct</span> b; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">easy</span>); equalityExcludedMiddle := <span class="kp">ltac</span>:(<span class="nb">intros</span> a b; <span class="nb">destruct</span> a; <span class="nb">destruct</span> b; <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>)); connected := <span class="kp">ltac</span>:(<span class="nb">intros</span> a b h; <span class="nb">destruct</span> a; <span class="nb">destruct</span> b; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>)) |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3">#[export] <span class="kn">Instance</span> <span class="nf">optionBracketEqualityDecidable</span> : EqDecision (option Bracket).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EqDecision (option Bracket)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EqDecision (option Bracket)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">solve_decision.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">possibleToFill</span> (<span class="nv">withBlanks</span> : list (option Bracket)) := <span class="kr">exists</span> <span class="nv">toFill</span>, length toFill = count_occ optionBracketEqualityDecidable withBlanks None /\ isBalanced (fill withBlanks toFill).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">possibleToFill2</span> (<span class="nv">withBlanks</span> : list (option Bracket)) := <span class="kr">exists</span> <span class="nv">completed</span>, isCompletion withBlanks completed /\ isBalanced completed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5"><span class="kn">Lemma</span> <span class="nf">possibleToFillIffPossibleToFill2</span> <span class="nv">withBlanks</span> : possibleToFill withBlanks &lt;-&gt; possibleToFill2 withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks ‚Üî possibleToFill2 withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks ‚Üî possibleToFill2 withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| [head |] tail IH].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill [] ‚Üî possibleToFill2 []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk8"><hr></label><div class="goal-conclusion">possibleToFill (Some head :: tail)
‚Üî possibleToFill2 (Some head :: tail)</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk9"><hr></label><div class="goal-conclusion">possibleToFill (None :: tail)
‚Üî possibleToFill2 (None :: tail)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill [] ‚Üî possibleToFill2 []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb"><span class="nb">unfold</span> possibleToFill, possibleToFill2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
   length _0 =
   count_occ optionBracketEqualityDecidable [] None
   ‚àß isBalanced (fill [] _0))
‚Üî <span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
    isCompletion [] _0 ‚àß isBalanced _0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="kr">exists</span> []; <span class="nb">simpl</span>; <span class="nb">split</span>; <span class="kp">try</span> <span class="bp">done</span>; <span class="bp">exact</span> EmptyBalanced.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill (Some head :: tail)
‚Üî possibleToFill2 (Some head :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd"><span class="nb">split</span>; <span class="nb">intros</span> [w [h1 h2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill2 (Some head :: tail)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chke"><hr></label><div class="goal-conclusion">possibleToFill (Some head :: tail)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill2 (Some head :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10"><span class="kr">exists</span> (<span class="nv">fill</span> (Some head :: tail) w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (Some head :: tail)
  (fill (Some head :: tail) w)
‚àß isBalanced (fill (Some head :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (Some head :: tail)
  (fill (Some head :: tail) w)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk12"><hr></label><div class="goal-conclusion">isBalanced (fill (Some head :: tail) w)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (Some head :: tail)
  (fill (Some head :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> fillIsCompletion.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (Some head :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill (Some head :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill (Some head :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16"><span class="kr">exists</span> (<span class="nv">extractAnswers</span> (Some head :: tail) w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (Some head :: tail) w) =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None
‚àß isBalanced
    (fill (Some head :: tail)
       (extractAnswers (Some head :: tail) w))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (Some head :: tail) w) =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk18"><hr></label><div class="goal-conclusion">isBalanced
  (fill (Some head :: tail)
     (extractAnswers (Some head :: tail) w))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (Some head :: tail) w) =
count_occ optionBracketEqualityDecidable
  (Some head :: tail) None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> extractAnswersLength.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (Some head :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill (Some head :: tail)
     (extractAnswers (Some head :: tail) w))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> (<span class="nb">rewrite</span> extractAnswersCorrect; <span class="kp">try</span> <span class="nb">apply</span> extractAnswersLength).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill (None :: tail)
‚Üî possibleToFill2 (None :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c"><span class="nb">split</span>; <span class="nb">intros</span> [w [h1 h2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill2 (None :: tail)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1d"><hr></label><div class="goal-conclusion">possibleToFill (None :: tail)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill2 (None :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f"><span class="kr">exists</span> (<span class="nv">fill</span> (None :: tail) w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (None :: tail) (fill (None :: tail) w)
‚àß isBalanced (fill (None :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (None :: tail) (fill (None :: tail) w)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk21"><hr></label><div class="goal-conclusion">isBalanced (fill (None :: tail) w)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk22">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isCompletion (None :: tail) (fill (None :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> fillIsCompletion.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk23">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>length w =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced (fill (None :: tail) w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill (None :: tail) w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk24">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill (None :: tail)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk25"><span class="kr">exists</span> (<span class="nv">extractAnswers</span> (None :: tail) w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (None :: tail) w) =
count_occ optionBracketEqualityDecidable
  (None :: tail) None
‚àß isBalanced
    (fill (None :: tail)
       (extractAnswers (None :: tail) w))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk26"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (None :: tail) w) =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk27"><hr></label><div class="goal-conclusion">isBalanced
  (fill (None :: tail)
     (extractAnswers (None :: tail) w))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk28">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (extractAnswers (None :: tail) w) =
count_occ optionBracketEqualityDecidable
  (None :: tail) None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> extractAnswersLength.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk29">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>possibleToFill tail ‚Üî possibleToFill2 tail</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>isCompletion (None :: tail) w</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>isBalanced w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill (None :: tail)
     (extractAnswers (None :: tail) w))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> (<span class="nb">rewrite</span> extractAnswersCorrect; <span class="kp">try</span> <span class="nb">apply</span> extractAnswersLength).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">getWitness</span> (<span class="nv">withBlanks</span> : list (option Bracket)) :=
  <span class="kr">let</span> <span class="nv">count</span> := length withBlanks / <span class="mi">2</span> <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">remainingOpenCount</span> := count - count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">remainingCloseCount</span> := count - count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) <span class="kr">in</span>
  <span class="kp">repeat</span> BracketOpen remainingOpenCount ++ <span class="kp">repeat</span> BracketClose remainingCloseCount.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">possibleToFillBool</span> (<span class="nv">withBlanks</span> : list (option Bracket)) :=
  <span class="kr">match</span> bool_decide (<span class="mi">2</span> | length withBlanks) <span class="kr">with</span>
  | false =&gt; false
  | true =&gt;
    <span class="kr">let</span> <span class="nv">count</span> := length withBlanks / <span class="mi">2</span> <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">remainingOpenCount</span> := count - count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">remainingCloseCount</span> := count - count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) <span class="kr">in</span>
    <span class="kr">match</span> bool_decide (count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) &lt;= count) &amp;&amp; bool_decide (count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) &lt;= count) <span class="kr">with</span>
    | false =&gt; false
    | true =&gt; isBalancedBool (fill withBlanks (getWitness withBlanks))
    <span class="kr">end</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2a"><span class="kn">Lemma</span> <span class="nf">possibleToFillBool_oddLength</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">h</span> : ~(<span class="mi">2</span> | length withBlanks)) : ~possibleToFillBool withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> possibleToFillBool; case_bool_decide; <span class="nb">simpl</span>; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2c"><span class="kn">Lemma</span> <span class="nf">possibleToFillBool_openCountGreaterHalfLength</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">h</span> : length withBlanks / <span class="mi">2</span> &lt; count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen)) : ~possibleToFillBool withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> &lt;
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> &lt;
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> possibleToFillBool; case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">intro</span> h1; case_bool_decide; <span class="nb">simpl</span> <span class="kr">in</span> h; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2e"><span class="kn">Lemma</span> <span class="nf">possibleToFillBool_closeCountGreaterHalfLength</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">h</span> : length withBlanks / <span class="mi">2</span> &lt; count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)) : ~possibleToFillBool withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> &lt;
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> &lt;
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> possibleToFillBool; case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">intro</span> h1; case_bool_decide; <span class="nb">simpl</span> <span class="kr">in</span> h; <span class="kp">try</span> <span class="bp">lia</span>; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk30"><span class="kn">Lemma</span> <span class="nf">possibleToFillBool_allConditionsSatisfied</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">h1</span> : (<span class="mi">2</span> | length withBlanks)) (<span class="nv">h2</span> : count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) &lt;= length withBlanks / <span class="mi">2</span>) (<span class="nv">h3</span> : count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) &lt;= length withBlanks / <span class="mi">2</span>) : possibleToFillBool withBlanks &lt;-&gt; isBalancedBool (fill withBlanks (getWitness withBlanks)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFillBool withBlanks
‚Üî isBalancedBool
    (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFillBool withBlanks
‚Üî isBalancedBool
    (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> *; case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> case_bool_decide; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">easy</span>; case_bool_decide; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk32"><span class="kn">Lemma</span> <span class="nf">canAlwaysSwapCloseAndOpen</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> : list Bracket) : isBalanced (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) -&gt; isBalanced (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)
‚Üí isBalanced
    (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)
‚Üí isBalanced
    (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk34"><span class="nb">intro</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk35"><span class="nb">pose proof</span> isBalancedImpliesBalanceFactorBasedDefinition _ h <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>balanceFactorBasedDefinition
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk36"><span class="nb">apply</span> balanceFactorBasedDefinitionImpliesIsBalanced.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>balanceFactorBasedDefinition
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">balanceFactorBasedDefinition
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk37"><span class="nb">destruct</span> H <span class="kr">as</span> [h1 h2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">balanceFactorBasedDefinition
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk38"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3) =
countClose
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk39"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketOpen] ++
              s2 ++ [BracketClose] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3) =
countClose
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3b"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + (<span class="mi">0</span> + countOpen s3))) =
countClose s1 +
(<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countClose s3)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3c"><span class="nb">autorewrite with</span> rewriteCount <span class="kr">in</span> h1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen s1 +
(<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen s3))) =
countClose s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + (<span class="mi">0</span> + countClose s3)))</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + (<span class="mi">0</span> + countOpen s3))) =
countClose s1 +
(<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countClose s3)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketOpen] ++
              s2 ++ [BracketClose] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3e"><span class="nb">intros</span> prefix hPrefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk3f"><span class="nb">pose proof</span> prefixAppCases _ _ _ hPrefix <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1
‚à® <span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, prefix = s1 ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk40"><span class="nb">destruct</span> H <span class="kr">as</span> [H | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, prefix = s1 ++ _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk41"><hr></label><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk42">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk43"><span class="nb">epose proof</span> h2 prefix _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>countOpen prefix ‚â• countClose prefix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk44">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, prefix = s1 ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk45"><span class="nb">destruct</span> H <span class="kr">as</span> [l&#39; h3].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk46"><span class="nb">rewrite</span> h3 <span class="kr">in</span> hPrefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk47"><span class="nb">pose proof</span> prefix_app_inv s1 l&#39; ([BracketOpen] ++ s2 ++ [BracketClose] ++ s3) hPrefix <span class="kr">as</span> hPrefix2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk48"><span class="nb">pose proof</span> prefixAppCases _ _ _ hPrefix2 <span class="kr">as</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]
‚à® <span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l&#39; = [BracketOpen] ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk49"><span class="nb">destruct</span> H1 <span class="kr">as</span> [H | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l&#39; = [BracketOpen] ++ _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk4a"><hr></label><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk4b">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk4c"><span class="nb">rewrite</span> h3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen (s1 ++ l&#39;) ‚â• countClose (s1 ++ l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk4d"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk4e"><span class="nb">destruct</span> (prefixSingleton _ _ H) <span class="kr">as</span> [H0 | H0].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk4f"><hr></label><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk50">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk51"><span class="nb">rewrite</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen []
‚â• countClose s1 + countClose []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk52"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + <span class="mi">0</span> ‚â• countClose s1 + <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk53"><span class="nb">rewrite</span> <span class="nl">?Nat</span>.add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 ‚â• countClose s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk54"><span class="nb">epose proof</span> h2 s1 _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>countOpen s1 ‚â• countClose s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 ‚â• countClose s1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk55">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk56">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen l&#39;
‚â• countClose s1 + countClose l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk57"><span class="nb">rewrite</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + countOpen [BracketOpen]
‚â• countClose s1 + countClose [BracketOpen]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk58"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span>) ‚â• countClose s1 + <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk59"><span class="nb">epose proof</span> h2 s1 _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>countOpen s1 ‚â• countClose s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span>) ‚â• countClose s1 + <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l&#39; = [BracketOpen] ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5b"><span class="nb">destruct</span> H <span class="kr">as</span> [l0 H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen prefix ‚â• countClose prefix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5c"><span class="nb">rewrite</span> <span class="nl">?h3</span>, <span class="nl">?H</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen (s1 ++ [BracketOpen] ++ l0)
‚â• countClose (s1 ++ [BracketOpen] ++ l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5d"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5e"><span class="nb">rewrite</span> H <span class="kr">in</span> hPrefix2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk5f"><span class="nb">pose proof</span> prefix_app_inv _ _ _ hPrefix2 <span class="kr">as</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk60"><span class="nb">pose proof</span> prefixAppCases _ _ _ H0 <span class="kr">as</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2
‚à® <span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l0 = s2 ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk61"><span class="nb">destruct</span> H1 <span class="kr">as</span> [H1 | H1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk62" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l0 = s2 ++ _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk62"><hr></label><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk63">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk64"><span class="nb">epose proof</span> h2 (s1 ++ [BracketClose] ++ l0) _ <span class="kr">as</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>countOpen (s1 ++ [BracketClose] ++ l0)
‚â• countClose (s1 ++ [BracketClose] ++ l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk65"><span class="nb">autorewrite with</span> rewriteCount <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>countOpen s1 + (<span class="mi">0</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countClose l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk66">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l0 = s2 ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk67">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, l0 = s2 ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk68"><span class="nb">destruct</span> H1 <span class="kr">as</span> [w H1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk69"><span class="nb">rewrite</span> H1 <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6a"><span class="nb">pose proof</span> prefix_app_inv _ _ _ H0 <span class="kr">as</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6b"><span class="nb">pose proof</span> prefixAppCases _ _ _ H2 <span class="kr">as</span> H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]
‚à® <span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, w = [BracketClose] ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6c"><span class="nb">destruct</span> H3 <span class="kr">as</span> [H3 | H3].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, w = [BracketClose] ++ _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk6d"><hr></label><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk6f"><span class="nb">destruct</span> (prefixSingleton _ _ H3) <span class="kr">as</span> [H4 | H4].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk70"><hr></label><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk71">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk72"><span class="nb">rewrite</span> H4 <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ []</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk73"><span class="nb">rewrite</span> app_nil_r <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk74"><span class="nb">rewrite</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen s2)
‚â• countClose s1 + (<span class="mi">0</span> + countClose s2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk75"><span class="nb">epose proof</span> h2 (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]) _ <span class="kr">as</span> H6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen])
‚â• countClose
    (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen s2)
‚â• countClose s1 + (<span class="mi">0</span> + countClose s2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk76"><span class="nb">autorewrite with</span> rewriteCount <span class="kr">in</span> H6.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>countOpen s1 + (<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span>)))
‚â• countClose s1 + (<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen s2)
‚â• countClose s1 + (<span class="mi">0</span> + countClose s2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk77">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk78"><span class="nb">rewrite</span> H4 <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk79"><span class="nb">rewrite</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + countOpen (s2 ++ [BracketClose]))
‚â• countClose s1 +
  (<span class="mi">0</span> + countClose (s2 ++ [BracketClose]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7a"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + <span class="mi">0</span>))
‚â• countClose s1 + (<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7b"><span class="nb">epose proof</span> h2 (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]) _ <span class="kr">as</span> H5.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen])
‚â• countClose
    (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + <span class="mi">0</span>))
‚â• countClose s1 + (<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7c"><span class="nb">autorewrite with</span> rewriteCount <span class="kr">in</span> H5.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen s1 + (<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span>)))
‚â• countClose s1 + (<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + <span class="mi">0</span>))
‚â• countClose s1 + (<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket, w = [BracketClose] ++ _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7e"><span class="nb">destruct</span> H3 <span class="kr">as</span> [w&#39; H3].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk7f"><span class="nb">rewrite</span> H3 <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk80"><span class="nb">pose proof</span> prefix_app_inv _ _ _ H2 <span class="kr">as</span> H4.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk81"><span class="nb">epose proof</span> h2 (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;) _ <span class="kr">as</span> H5.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;)
‚â• countClose
    (s1 ++
     [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk82"><span class="nb">autorewrite with</span> rewriteCount <span class="kr">in</span> H5.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen s1 +
(<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen w&#39;)))
‚â• countClose s1 +
  (<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + (<span class="mi">0</span> + countClose w&#39;)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen l0)
‚â• countClose s1 + (<span class="mi">0</span> + countClose l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk83"><span class="nb">rewrite</span> H1, H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen s1 +
(<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen w&#39;)))
‚â• countClose s1 +
  (<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + (<span class="mi">0</span> + countClose w&#39;)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + countOpen (s2 ++ [BracketClose] ++ w&#39;))
‚â• countClose s1 +
  (<span class="mi">0</span> + countClose (s2 ++ [BracketClose] ++ w&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk84"><span class="nb">autorewrite with</span> rewriteCount.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>countOpen s1 +
(<span class="mi">0</span> + (countOpen s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countOpen w&#39;)))
‚â• countClose s1 +
  (<span class="mi">0</span> + <span class="mi">1</span> + (countClose s2 + (<span class="mi">0</span> + countClose w&#39;)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">countOpen s1 +
(<span class="mi">0</span> + <span class="mi">1</span> + (countOpen s2 + (<span class="mi">0</span> + countOpen w&#39;)))
‚â• countClose s1 +
  (<span class="mi">0</span> + (countClose s2 + (<span class="mi">0</span> + <span class="mi">1</span> + countClose w&#39;)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk85"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk86" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk86"><hr></label><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk87"><hr></label><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk88"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk89" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk89"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk8a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk8a"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk8b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk8b"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk8c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>prefix `prefix_of` s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk8d"><span class="nb">destruct</span> H <span class="kr">as</span> [w H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = prefix ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">prefix
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk8e"><span class="kr">exists</span> (<span class="nv">w</span> ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = prefix ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
prefix ++
w ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk8f"><span class="nb">rewrite</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>prefix
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = prefix ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(prefix ++ w) ++
[BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
prefix ++
w ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">listsEqual.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk90">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk91" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk91"><hr></label><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk92" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk92"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk93" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk93"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk94" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk94"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk95" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk95"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk96">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk97"><span class="kr">exists</span> ([BracketClose] ++ s2 ++ [BracketOpen] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk98">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk99" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk99"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk9a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk9a"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk9b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk9b"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk9c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk9c"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk9d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk9e"><span class="kr">exists</span> ([BracketClose] ++ s2 ++ [BracketOpen] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>l&#39;
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; `prefix_of` [BracketOpen]</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk9f">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chka0"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chka1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chka1"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chka2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chka2"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka4"><span class="nb">destruct</span> H1 <span class="kr">as</span> [w H1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s2 = l0 ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ l0
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka5"><span class="kr">exists</span> (<span class="nv">w</span> ++ [BracketOpen] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s2 = l0 ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
(s1 ++ [BracketClose] ++ l0) ++
w ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka6"><span class="nb">rewrite</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s2 = l0 ++ w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++
[BracketClose] ++ (l0 ++ w) ++ [BracketOpen] ++ s3 =
(s1 ++ [BracketClose] ++ l0) ++
w ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">listsEqual.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chka7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chka8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chka8"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chka9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chka9"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkaa">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkab"><span class="kr">exists</span> <span class="nv">s3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
(s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]) ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">listsEqual.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkac">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkad"><hr></label><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkae">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkaf"><span class="kr">exists</span> <span class="nv">s3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ [BracketClose]</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w `prefix_of` [BracketClose]</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w = [BracketClose]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
(s1 ++ [BracketClose] ++ s2 ++ [BracketOpen]) ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">listsEqual.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb1">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>w&#39; `prefix_of` s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb2"><span class="nb">destruct</span> H4 <span class="kr">as</span> [w1 H4].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>w1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>s3 = w&#39; ++ w1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;
`prefix_of` s1 ++
            [BracketClose] ++
            s2 ++ [BracketOpen] ++ s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb3"><span class="kr">exists</span> <span class="nv">w1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>w1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>s3 = w&#39; ++ w1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3 =
(s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;) ++
w1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb4"><span class="nb">rewrite</span> H4.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3) =
countClose
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0
  `prefix_of` s1 ++
              [BracketClose] ++
              s2 ++ [BracketOpen] ++ s3
  ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br><span><var>prefix, l'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix</var><span class="hyp-type"><b>: </b><span>s1 ++ l&#39;
`prefix_of` s1 ++
            [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>h3</var><span class="hyp-type"><b>: </b><span>prefix = s1 ++ l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hPrefix2</var><span class="hyp-type"><b>: </b><span>[BracketOpen] ++ l0
`prefix_of` [BracketOpen] ++
            s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l&#39; = [BracketOpen] ++ l0</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s2 ++ w `prefix_of` s2 ++ [BracketClose] ++ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>l0 = s2 ++ w</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>[BracketClose] ++ w&#39;
`prefix_of` [BracketClose] ++ s3</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>w = [BracketClose] ++ w&#39;</span></span></span><br><span><var>w1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>s3 = w&#39; ++ w1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 ++
[BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39; ++ w1 =
(s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ w&#39;) ++
w1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">listsEqual.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Paolo: I use a notation to avoid having to unfold this. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">right_len</span> withBlanks s :=
  (count_occ optionBracketEqualityDecidable withBlanks None = length s) (<span class="kn">only parsing</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">satisfactoryWitness</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) :=
  right_len withBlanks witness /\
  isBalanced (fill withBlanks witness).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb5"><span class="kn">Lemma</span> <span class="nf">fillPreservesLength</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">h</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : length (fill withBlanks witness) = length withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fill withBlanks witness) = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fill withBlanks witness) = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb7"><span class="nb">revert</span> witness h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable withBlanks
    None
  ‚Üí length (fill withBlanks _0) = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkb8"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| a withBlanks IHwithBlanks]; <span class="nb">intros</span> witness h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable [] None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fill [] witness) = length []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkb9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkb9"><hr></label><div class="goal-conclusion">length (fill (a :: withBlanks) witness) =
length (a :: withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkba">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable [] None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fill [] witness) = length []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkbb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (fill (a :: withBlanks) witness) =
length (a :: withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkbc"><span class="nb">destruct</span> a; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (Some _0 :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fill withBlanks witness)) =
S (length withBlanks)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkbd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkbd"><hr></label><div class="goal-conclusion">length
  <span class="kr">match</span> witness <span class="kr">with</span>
  | [] =&gt; []
  | _0 :: _1 =&gt; _0 :: fill withBlanks _1
  <span class="kr">end</span> = S (length withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkbe">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (Some _0 :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fill withBlanks witness)) =
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkbf"><span class="nb">simpl</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fill withBlanks witness)) =
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc0"><span class="nb">rewrite</span> (IHwithBlanks _ h).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length withBlanks) = S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  <span class="kr">match</span> witness <span class="kr">with</span>
  | [] =&gt; []
  | _0 :: _1 =&gt; _0 :: fill withBlanks _1
  <span class="kr">end</span> = S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc2"><span class="nb">destruct</span> witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length [] = S (length withBlanks)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkc3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length (_0 :: _1) =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkc3"><hr></label><div class="goal-conclusion">length (_0 :: fill withBlanks _1) =
S (length withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length [] = S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc5"><span class="nb">simpl</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length [] = S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length (_0 :: _1) =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (_0 :: fill withBlanks _1) =
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc7"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>length (_0 :: _1) =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fill withBlanks _1)) =
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc8"><span class="nb">simpl</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí length (fill withBlanks _0) =
    length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>S (length _1) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (fill withBlanks _1)) =
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> IHwithBlanks; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">helpers</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Implicit Type</span> (s : list Bracket).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkc9"><span class="kn">Lemma</span> <span class="nf">fill_split</span> {<span class="nv">b</span> <span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">withBlanks</span>} :
    <span class="kr">let</span> <span class="nv">s</span> := s1 ++ [b] ++ s2 <span class="kr">in</span>
    right_len withBlanks s -&gt;
    <span class="kr">‚àÉ</span> <span class="nv">wb1</span> <span class="nv">wb2</span>,
      withBlanks = wb1 ++ [None] ++ wb2 /\
      right_len wb1 s1 /\
      right_len wb2 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">_0</span> := s1 ++ [b] ++ s2 <span class="kr">in</span>
count_occ optionBracketEqualityDecidable withBlanks
  None = length _0
‚Üí <span class="kr">‚àÉ</span> <span class="nv">_1</span> <span class="nv">_2</span> : list (option Bracket),
    withBlanks = _1 ++ [None] ++ _2
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s1
      ‚àß count_occ optionBracketEqualityDecidable _2
          None = length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkca"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">_0</span> := s1 ++ [b] ++ s2 <span class="kr">in</span>
count_occ optionBracketEqualityDecidable withBlanks
  None = length _0
‚Üí <span class="kr">‚àÉ</span> <span class="nv">_1</span> <span class="nv">_2</span> : list (option Bracket),
    withBlanks = _1 ++ [None] ++ _2
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s1
      ‚àß count_occ optionBracketEqualityDecidable _2
          None = length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkcb"><span class="nb">simpl</span>; <span class="nb">rewrite</span> !app_length; <span class="nb">simpl</span>; <span class="nb">rewrite</span> Nat.add_succ_r; <span class="nb">simpl</span>; <span class="nb">clear</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None = S (length s1 + length s2)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
    withBlanks = _0 ++ None :: _1
    ‚àß count_occ optionBracketEqualityDecidable _0 None =
      length s1
      ‚àß count_occ optionBracketEqualityDecidable _1
          None = length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkcc"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [|[b&#39;|] wb IHwb] <span class="kr">in</span> s1, s2 |- *; <span class="nb">intros</span> HL; <span class="nb">simplify_eq</span>/=.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
S (length s1 + length s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  Some b&#39; :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    length s1
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkcd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
length s1 + length s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkcd"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    length s1
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkce">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
S (length s1 + length s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  Some b&#39; :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    length s1
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkcf"><span class="nb">destruct</span> (IHwb s1 s2 HL) <span class="kr">as</span> (wb1 &amp; wb2 &amp; -&gt; &amp; ?); destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>wb1, wb2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (wb1 ++ None :: wb2) None =
S (length s1 + length s2)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable
    (wb1 ++ None :: wb2) None =
  S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb1 ++ None :: wb2 = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb1 None =
length s1</span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  Some b&#39; :: wb1 ++ None :: wb2 = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    length s1
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> (<span class="nv">Some</span> <span class="nv">b&#39;</span> :: wb1), wb2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
length s1 + length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    length s1
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd1"><span class="nb">destruct</span> s1 <span class="kr">as</span> [|b1 s1]; <span class="nb">simplify_eq</span>/=.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    <span class="mi">0</span>
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkd2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
S (length s1 + length s2)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkd2"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    S (length s1)
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    <span class="mi">0</span>
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> [], wb.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd4">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable wb
    None = S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb None =
S (length s1 + length s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    S (length s1)
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd5"><span class="nb">destruct</span> (IHwb s1 s2 HL) <span class="kr">as</span> (wb1 &amp; wb2 &amp; -&gt; &amp; ?); destruct_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb1, wb2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HL</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (wb1 ++ None :: wb2) None =
S (length s1 + length s2)</span></span></span><br><span><var>IHwb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list Bracket,
  count_occ optionBracketEqualityDecidable
    (wb1 ++ None :: wb2) None =
  S (length _0 + length _1)
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">_2</span> <span class="nv">_3</span> : list (option Bracket),
      wb1 ++ None :: wb2 = _2 ++ None :: _3
      ‚àß count_occ
          optionBracketEqualityDecidable _2
          None = length _0
        ‚àß count_occ
            optionBracketEqualityDecidable _3
            None = length _1</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb1 None =
length s1</span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_0</span> <span class="nv">_1</span> : list (option Bracket),
  None :: wb1 ++ None :: wb2 = _0 ++ None :: _1
  ‚àß count_occ optionBracketEqualityDecidable _0 None =
    S (length s1)
    ‚àß count_occ optionBracketEqualityDecidable _1 None =
      length s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> (<span class="nv">None</span> :: wb1), wb2; split_and!; <span class="nb">simpl</span>; <span class="kp">try</span> f_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd6"><span class="kn">Lemma</span> <span class="nf">right_len_app</span> <span class="nv">w1</span> <span class="nv">w2</span> <span class="nv">s1</span> <span class="nv">s2</span> :
    right_len w1 s1 -&gt;
    right_len w2 s2 -&gt;
    right_len (w1 ++ w2) (s1 ++ s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable w1 None =
length s1
‚Üí count_occ optionBracketEqualityDecidable w2 None =
  length s2
  ‚Üí count_occ optionBracketEqualityDecidable
      (w1 ++ w2) None = length (s1 ++ s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable w1 None =
length s1
‚Üí count_occ optionBracketEqualityDecidable w2 None =
  length s2
  ‚Üí count_occ optionBracketEqualityDecidable
      (w1 ++ w2) None = length (s1 ++ s2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd8"><span class="nb">rewrite</span> count_occ_app, app_length.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable w1 None =
length s1
‚Üí count_occ optionBracketEqualityDecidable w2 None =
  length s2
  ‚Üí count_occ optionBracketEqualityDecidable w1 None +
    count_occ optionBracketEqualityDecidable w2 None =
    length s1 + length s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkd9"><span class="kn">Lemma</span> <span class="nf">fill_app</span> <span class="nv">w1</span> <span class="nv">w2</span> <span class="nv">s1</span> <span class="nv">s2</span> :
    right_len w1 s1 -&gt;
    right_len w2 s2 -&gt;
    fill (w1 ++ w2) (s1 ++ s2) = fill w1 s1 ++ fill w2 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable w1 None =
length s1
‚Üí count_occ optionBracketEqualityDecidable w2 None =
  length s2
  ‚Üí fill (w1 ++ w2) (s1 ++ s2) =
    fill w1 s1 ++ fill w2 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkda"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable w1 None =
length s1
‚Üí count_occ optionBracketEqualityDecidable w2 None =
  length s2
  ‚Üí fill (w1 ++ w2) (s1 ++ s2) =
    fill w1 s1 ++ fill w2 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkdb"><span class="nb">induction</span> w1 <span class="kr">as</span> [|[b|] w1 IHw1] <span class="kr">in</span> s1, s2, w2 |- *; <span class="nb">destruct</span> s1 <span class="kr">as</span> [|b1 s1]; <span class="nb">simpl</span> <span class="kr">in</span> *;
      <span class="kp">try</span> (<span class="bp">done</span> || <span class="bp">lia</span>); <span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w1 None =
<span class="mi">0</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b :: fill (w1 ++ w2) s2 =
b :: fill w1 [] ++ fill w2 s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkdc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w1 None =
S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkdc"><hr></label><div class="goal-conclusion">b :: fill (w1 ++ w2) (b1 :: s1 ++ s2) =
b :: fill w1 (b1 :: s1) ++ fill w2 s2</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>S
  (count_occ optionBracketEqualityDecidable w1
     None) = S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkdd"><hr></label><div class="goal-conclusion">b1 :: fill (w1 ++ w2) (s1 ++ s2) =
b1 :: fill w1 s1 ++ fill w2 s2</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkde">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w1 None =
<span class="mi">0</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b :: fill (w1 ++ w2) s2 =
b :: fill w1 [] ++ fill w2 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;-(IHw1 w2 [] s2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkdf">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w1 None =
S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b :: fill (w1 ++ w2) (b1 :: s1 ++ s2) =
b :: fill w1 (b1 :: s1) ++ fill w2 s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chke0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>S
  (count_occ optionBracketEqualityDecidable w1
     None) = S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chke0"><hr></label><div class="goal-conclusion">b1 :: fill (w1 ++ w2) (s1 ++ s2) =
b1 :: fill w1 s1 ++ fill w2 s2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w1 None =
S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b :: fill (w1 ++ w2) (b1 :: s1 ++ s2) =
b :: fill w1 (b1 :: s1) ++ fill w2 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;-(IHw1 w2 (b1 :: s1) s2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w1, w2</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>IHw1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list (option Bracket)) 
  (<span class="nv">_1</span> <span class="nv">_2</span> : list Bracket),
  count_occ optionBracketEqualityDecidable w1
    None = length _1
  ‚Üí count_occ optionBracketEqualityDecidable _0
      None = length _2
    ‚Üí fill (w1 ++ _0) (_1 ++ _2) =
      fill w1 _1 ++ fill _0 _2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>S
  (count_occ optionBracketEqualityDecidable w1
     None) = S (length s1)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable w2 None =
length s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b1 :: fill (w1 ++ w2) (s1 ++ s2) =
b1 :: fill w1 s1 ++ fill w2 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> &lt;-(IHw1 w2 s1 s2); <span class="kp">try</span> <span class="bp">done</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">helpers</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke3"><span class="kn">Lemma</span> <span class="nf">canAlwaysSwapCloseAndOpenInWitness</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">s3</span> : list Bracket) (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">hPrevious</span>: satisfactoryWitness withBlanks (s1 ++ [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)) : satisfactoryWitness withBlanks (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPrevious</var><span class="hyp-type"><b>: </b><span>satisfactoryWitness withBlanks
  (s1 ++
   [BracketClose] ++
   s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPrevious</var><span class="hyp-type"><b>: </b><span>satisfactoryWitness withBlanks
  (s1 ++
   [BracketClose] ++
   s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke5"><span class="nb">unfold</span> satisfactoryWitness <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPrevious</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++
   s2 ++ [BracketOpen] ++ s3)
‚àß isBalanced
    (fill withBlanks
       (s1 ++
        [BracketClose] ++
        s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None =
length
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)
‚àß isBalanced
    (fill withBlanks
       (s1 ++
        [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke6"><span class="nb">destruct</span> hPrevious <span class="kr">as</span> [HO HB].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None =
length
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)
‚àß isBalanced
    (fill withBlanks
       (s1 ++
        [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke7"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None =
length
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chke8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chke8"><hr></label><div class="goal-conclusion">isBalanced
  (fill withBlanks
     (s1 ++
      [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chke9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None =
length
  (s1 ++ [BracketOpen] ++ s2 ++ [BracketClose] ++ s3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkea"><span class="nb">rewrite</span> HO, <span class="nl">?app_length</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length s1 +
(length [BracketClose] +
 (length s2 + (length [BracketOpen] + length s3))) =
length s1 +
(length [BracketOpen] +
 (length s2 + (length [BracketClose] + length s3)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkeb"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length s1 + S (length s2 + S (length s3)) =
length s1 + S (length s2 + S (length s3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill withBlanks
     (s1 ++
      [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chked"><span class="nb">destruct</span> (fill_split HO) <span class="kr">as</span> (wb1 &amp; wb2&#39; &amp; -&gt; &amp; Hb1 &amp; Hb2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb1, wb2'</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill (wb1 ++ [None] ++ wb2&#39;)
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (wb1 ++ [None] ++ wb2&#39;) None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>Hb1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb1
  None = length s1</span></span></span><br><span><var>Hb2'</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb2&#39;
  None = length (s2 ++ [BracketOpen] ++ s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill (wb1 ++ [None] ++ wb2&#39;)
     (s1 ++
      [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkee"><span class="nb">destruct</span> (fill_split Hb2&#39;) <span class="kr">as</span> (wb2 &amp; wb3 &amp; -&gt; &amp; Hb2 &amp; Hb3); <span class="nb">clear</span> Hb2&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb1, wb2, wb3</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (wb1 ++ [None] ++ wb2 ++ [None] ++ wb3) None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill (wb1 ++ [None] ++ wb2 ++ [None] ++ wb3)
     (s1 ++
      [BracketClose] ++ s2 ++ [BracketOpen] ++ s3))</span></span></span><br><span><var>Hb1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb1
  None = length s1</span></span></span><br><span><var>Hb2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb2
  None = length s2</span></span></span><br><span><var>Hb3</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb3
  None = length s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill (wb1 ++ [None] ++ wb2 ++ [None] ++ wb3)
     (s1 ++
      [BracketOpen] ++ s2 ++ [BracketClose] ++ s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkef"><span class="nb">rewrite</span> !fill_app <span class="kr">in</span> HB |- *; <span class="kp">repeat</span> <span class="nb">apply</span> right_len_app; <span class="nb">simpl</span>; <span class="kp">try</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>wb1, wb2, wb3</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>HO</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (wb1 ++ [None] ++ wb2 ++ [None] ++ wb3) None =
length
  (s1 ++
   [BracketClose] ++ s2 ++ [BracketOpen] ++ s3)</span></span></span><br><span><var>HB</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill wb1 s1 ++
   fill [None] [BracketClose] ++
   fill wb2 s2 ++
   fill [None] [BracketOpen] ++ fill wb3 s3)</span></span></span><br><span><var>Hb1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb1
  None = length s1</span></span></span><br><span><var>Hb2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb2
  None = length s2</span></span></span><br><span><var>Hb3</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable wb3
  None = length s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill wb1 s1 ++
   BracketOpen
   :: fill wb2 s2 ++ BracketClose :: fill wb3 s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> canAlwaysSwapCloseAndOpen.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf0"><span class="kn">Lemma</span> <span class="nf">addThreeTypes</span> (<span class="nv">withBlanks</span> : list (option Bracket)) : count_occ optionBracketEqualityDecidable withBlanks None + count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) + count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) = length withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None +
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None +
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) = 
length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf2"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| a withBlanks].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable [] None +
count_occ optionBracketEqualityDecidable []
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable []
  (Some BracketClose) = 
length []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkf3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkf3"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some BracketClose) =
length (a :: withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable [] None +
count_occ optionBracketEqualityDecidable []
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable []
  (Some BracketClose) = 
length []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some BracketClose) =
length (a :: withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf6"><span class="nb">destruct</span> a <span class="kr">as</span> [b |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some BracketClose) = 
length (Some b :: withBlanks)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chkf7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chkf7"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some BracketClose) = 
length (None :: withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some BracketClose) = 
length (Some b :: withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> b; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkf9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None +
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some BracketClose) = 
length (None :: withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkfa"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S
  (count_occ optionBracketEqualityDecidable withBlanks
     None +
   count_occ optionBracketEqualityDecidable withBlanks
     (Some BracketOpen) +
   count_occ optionBracketEqualityDecidable withBlanks
     (Some BracketClose)) = 
S (length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkfb"><span class="kn">Lemma</span> <span class="nf">subtractToCountNone</span> (<span class="nv">withBlanks</span> : list (option Bracket)) : length withBlanks - (count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) + count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)) = count_occ optionBracketEqualityDecidable withBlanks None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkfc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkfd"><span class="nb">pose proof</span> addThreeTypes withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkfe"><span class="kn">Lemma</span> <span class="nf">countSymbolAfterFill</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">toFill</span> : list Bracket) (<span class="nv">hValid</span> : length toFill = count_occ optionBracketEqualityDecidable withBlanks None) (<span class="nv">symbol</span> : Bracket) : count_occ optionBracketEqualityDecidable withBlanks (Some symbol) + count_occ bracketEqualityDecidable toFill symbol = count_occ bracketEqualityDecidable (fill withBlanks toFill) symbol.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chkff"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk100"><span class="nb">revert</span> toFill hValid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable withBlanks
    None
  ‚Üí count_occ optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk101"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| a withBlanks IHwithBlanks]; <span class="nb">intros</span> toFill hValid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable 
  (fill [] toFill) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk102" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk102"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (a :: withBlanks) toFill) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk103">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable 
  (fill [] toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk104"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill symbol = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk105"><span class="nb">rewrite</span> (nil_length_inv _ hValid).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable [] symbol = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk106">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span class="hyp-type"><b>: </b><span>option Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (a :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (a :: withBlanks) (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (a :: withBlanks) toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk107"><span class="nb">destruct</span> a <span class="kr">as</span> [b |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) toFill) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk108"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) toFill) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk109">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10a"><span class="nb">destruct</span> toFill <span class="kr">as</span> [| b0 toFill].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length (b0 :: toFill) =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk10b"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10d"><span class="nb">pose proof</span> IHwithBlanks [] <span class="kp">ltac</span>:(<span class="nb">destruct</span> b; <span class="nb">simpl</span>; <span class="bp">easy</span>) <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10e"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) + <span class="mi">0</span> =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk10f"><span class="nb">rewrite</span> Nat.add_0_r <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk110"><span class="nb">assert</span> (hCases : b = symbol \/ b &lt;&gt; symbol).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk111"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk112">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> b; <span class="nb">destruct</span> symbol; <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk113">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk114"><span class="nb">destruct</span> hCases <span class="kr">as</span> [hCases | hCases].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk115" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk115"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk116">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk117"><span class="nb">rewrite</span> <span class="nl">?hCases</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some symbol :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some symbol :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk118"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span>
  optionBracketEqualityDecidable 
    (Some symbol) (Some symbol)
 <span class="kr">then</span>
  S
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some symbol))
 <span class="kr">else</span>
  count_occ optionBracketEqualityDecidable withBlanks
    (Some symbol)) + <span class="mi">0</span> =
(<span class="kr">if</span> bracketEqualityDecidable symbol symbol
 <span class="kr">then</span>
  S
    (count_occ bracketEqualityDecidable
       (fill withBlanks []) symbol)
 <span class="kr">else</span>
  count_occ bracketEqualityDecidable
    (fill withBlanks []) symbol)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">simpl</span>; <span class="nb">rewrite</span> H; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk119">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) =
count_occ bracketEqualityDecidable
  (fill withBlanks []) symbol</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> b; <span class="nb">destruct</span> symbol; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">simpl</span>; <span class="nb">rewrite</span> H; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11b">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length (b0 :: toFill) =
count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11c"><span class="nb">simpl</span> <span class="kr">in</span> hValid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11d"><span class="nb">assert</span> (hCases : b = symbol \/ b &lt;&gt; symbol).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk11e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk11e"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk11f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> b; <span class="nb">destruct</span> symbol; <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk120">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk121"><span class="nb">destruct</span> hCases <span class="kr">as</span> [hCases | hCases].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk122" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk122"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk123">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk124"><span class="nb">rewrite</span> <span class="nl">?hCases</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some symbol :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some symbol :: withBlanks) (b0 :: toFill))
  symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk125"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span>
  optionBracketEqualityDecidable 
    (Some symbol) (Some symbol)
 <span class="kr">then</span>
  S
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some symbol))
 <span class="kr">else</span>
  count_occ optionBracketEqualityDecidable withBlanks
    (Some symbol)) +
(<span class="kr">if</span> bracketEqualityDecidable b0 symbol
 <span class="kr">then</span>
  S (count_occ bracketEqualityDecidable toFill symbol)
 <span class="kr">else</span> count_occ bracketEqualityDecidable toFill symbol) =
(<span class="kr">if</span> bracketEqualityDecidable symbol symbol
 <span class="kr">then</span>
  S
    (count_occ bracketEqualityDecidable
       (fill withBlanks (b0 :: toFill)) symbol)
 <span class="kr">else</span>
  count_occ bracketEqualityDecidable
    (fill withBlanks (b0 :: toFill)) symbol)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">destruct</span> b0; <span class="nb">simpl</span>; <span class="nb">rewrite</span> &lt;- IHwithBlanks; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk126">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk127">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some b :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b0 :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (Some b :: withBlanks) (b0 :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">destruct</span> b0; <span class="nb">simpl</span> <span class="kr">in</span> hCases; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">simpl</span>; <span class="nb">destruct</span> b; <span class="nb">simpl</span>; <span class="nb">rewrite</span> &lt;- IHwithBlanks; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk128">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk129"><span class="nb">assert</span> (hSimplify : count_occ optionBracketEqualityDecidable (None :: withBlanks) (Some symbol) = count_occ optionBracketEqualityDecidable withBlanks (Some symbol)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk12a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk12a"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) toFill) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk12b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk12c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk12d"><span class="nb">rewrite</span> hSimplify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk12e"><span class="nb">destruct</span> toFill <span class="kr">as</span> [| b toFill].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) []) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk12f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length (b :: toFill) =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk12f"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk130">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length [] =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk131"><span class="nb">simpl</span> <span class="kr">in</span> hValid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable [] symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) []) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk132">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length (b :: toFill) =
count_occ optionBracketEqualityDecidable
  (None :: withBlanks) None</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk133"><span class="nb">simpl</span> <span class="kr">in</span> hValid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk134"><span class="nb">assert</span> (hCases : b = symbol \/ b &lt;&gt; symbol).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk135" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk135"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk136">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b = symbol ‚à® b ‚â† symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> b; <span class="nb">destruct</span> symbol; <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk137">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol ‚à® b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk138"><span class="nb">destruct</span> hCases <span class="kr">as</span> [hCases | hCases].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk139"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13b"><span class="nb">rewrite</span> <span class="nl">?hCases</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (symbol :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (symbol :: toFill))
  symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b = symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
(<span class="kr">if</span> bracketEqualityDecidable symbol symbol
 <span class="kr">then</span>
  S (count_occ bracketEqualityDecidable toFill symbol)
 <span class="kr">else</span> count_occ bracketEqualityDecidable toFill symbol) =
(<span class="kr">if</span> bracketEqualityDecidable symbol symbol
 <span class="kr">then</span>
  S
    (count_occ bracketEqualityDecidable
       (fill withBlanks toFill) symbol)
 <span class="kr">else</span>
  count_occ bracketEqualityDecidable
    (fill withBlanks toFill) symbol)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">simpl</span>; <span class="nb">rewrite</span> &lt;- IHwithBlanks; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>IHwithBlanks</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ
    optionBracketEqualityDecidable
    withBlanks None
  ‚Üí count_occ
      optionBracketEqualityDecidable
      withBlanks (Some symbol) +
    count_occ bracketEqualityDecidable
      _0 symbol =
    count_occ bracketEqualityDecidable
      (fill withBlanks _0) symbol</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>S (length toFill) =
S
  (count_occ optionBracketEqualityDecidable
     withBlanks None)</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  (None :: withBlanks) 
  (Some symbol) =
count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol)</span></span></span><br><span><var>hCases</var><span class="hyp-type"><b>: </b><span>b ‚â† symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol) +
count_occ bracketEqualityDecidable 
  (b :: toFill) symbol =
count_occ bracketEqualityDecidable
  (fill (None :: withBlanks) (b :: toFill)) symbol</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">simpl</span> <span class="kr">in</span> hCases; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">simpl</span>; <span class="nb">destruct</span> b; <span class="nb">simpl</span>; <span class="nb">rewrite</span> &lt;- IHwithBlanks; <span class="nb">simpl</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk13f"><span class="kn">Lemma</span> <span class="nf">existingLeqAfterFill</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">toFill</span> : list Bracket) (<span class="nv">hValid</span> : length toFill = count_occ optionBracketEqualityDecidable withBlanks None) (<span class="nv">symbol</span> : Bracket) : count_occ optionBracketEqualityDecidable withBlanks (Some symbol) &lt;= count_occ bracketEqualityDecidable (fill withBlanks toFill) symbol.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol)
‚â§ count_occ bracketEqualityDecidable
    (fill withBlanks toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk140"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol)
‚â§ count_occ bracketEqualityDecidable
    (fill withBlanks toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk141"><span class="nb">pose proof</span> countSymbolAfterFill withBlanks toFill hValid symbol.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hValid</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some symbol) +
count_occ bracketEqualityDecidable toFill symbol =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) symbol</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some symbol)
‚â§ count_occ bracketEqualityDecidable
    (fill withBlanks toFill) symbol</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk142"><span class="kn">Lemma</span> <span class="nf">alwaysSortedAux</span> (<span class="nv">closeCount</span> : nat) : sorted BracketOpen compareSymbols (<span class="kp">repeat</span> BracketClose closeCount).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen compareSymbols
  (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk143"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen compareSymbols
  (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk144"><span class="nb">intros</span> i j hI hJ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)
    (nth i (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk145"><span class="nb">pose proof</span> nth_repeat BracketClose closeCount j <span class="kr">as</span> h1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)
    (nth i (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk146"><span class="nb">pose proof</span> nth_repeat BracketClose closeCount i <span class="kr">as</span> h2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)
    (nth i (<span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk147"><span class="nb">erewrite</span> (nth_indep _ BracketOpen BracketClose _), (nth_indep _ BracketOpen BracketClose _), h1, h2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols BracketClose BracketClose</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk148"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk149" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk149"><hr></label><div class="goal-conclusion">i &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount, i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>nth j (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>nth i (<span class="kp">repeat</span> BracketClose closeCount)
  BracketClose = BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i &lt; length (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14c"><span class="kn">Lemma</span> <span class="nf">alwaysSorted</span> (<span class="nv">openCount</span> <span class="nv">closeCount</span> : nat) : sorted BracketOpen (<span class="nb">compare</span> _ symbolComparator) (<span class="kp">repeat</span> BracketOpen openCount ++ <span class="kp">repeat</span> BracketClose closeCount).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk14e"><span class="nb">induction</span> openCount <span class="kr">as</span> [| openCount IHopenCount].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen <span class="mi">0</span> ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk14f"><hr></label><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen (S openCount) ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk150">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen <span class="mi">0</span> ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk151"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen compareSymbols
  (<span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> alwaysSortedAux.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk152">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen (S openCount) ++
   <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk153"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sorted BracketOpen compareSymbols
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk154"><span class="nb">intros</span> i j hI hJ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>i &lt; j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth i
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk155"><span class="nb">destruct</span> i <span class="kr">as</span> [| i]; <span class="nb">destruct</span> j <span class="kr">as</span> [| j]; <span class="kp">try</span> <span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth (S j)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth <span class="mi">0</span>
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk156" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>S i &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk156"><hr></label><div class="goal-conclusion">¬¨ compareSymbols
    (nth (S j)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth (S i)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk157">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth (S j)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth <span class="mi">0</span>
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk158"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    BracketOpen</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk159"><span class="nb">remember</span> (nth j (<span class="kp">repeat</span> BracketOpen openCount ++ <span class="kp">repeat</span> BracketClose closeCount) BracketOpen) <span class="kr">as</span> random.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>random</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>random =
nth j
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount) BracketOpen</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols random BracketOpen</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> random; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>S i &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth (S j)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth (S i)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15b"><span class="nb">pose proof</span> IHopenCount i j <span class="kp">ltac</span>:(<span class="bp">lia</span>) <span class="kp">ltac</span>:(<span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">lia</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>S i &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> Bracket symbolComparator
    (nth j
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)
    (nth i
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth (S j)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth (S i)
       (BracketOpen
        :: <span class="kp">repeat</span> BracketOpen openCount ++
           <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>openCount, closeCount</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHopenCount</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen openCount ++
   <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>hI</var><span class="hyp-type"><b>: </b><span>S i &lt; S j</span></span></span><br><span><var>hJ</var><span class="hyp-type"><b>: </b><span>S j &lt;
length
  (BracketOpen
   :: <span class="kp">repeat</span> BracketOpen openCount ++
      <span class="kp">repeat</span> BracketClose closeCount)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="nb">compare</span> Bracket symbolComparator
    (nth j
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)
    (nth i
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount)
       BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ compareSymbols
    (nth j
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)
    (nth i
       (<span class="kp">repeat</span> BracketOpen openCount ++
        <span class="kp">repeat</span> BracketClose closeCount) BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15d"><span class="kn">Lemma</span> <span class="nf">possibleToFillIffPossibleToFillBool</span> (<span class="nv">withBlanks</span> : list (option Bracket)) : possibleToFill withBlanks &lt;-&gt; possibleToFillBool withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks
‚Üî possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks
‚Üî possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk15f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks
‚Üí possibleToFillBool withBlanks</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk160" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk160"><hr></label><div class="goal-conclusion">possibleToFillBool withBlanks
‚Üí possibleToFill withBlanks</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk161">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks
‚Üí possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk162"><span class="nb">intro</span> hPossible.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span>possibleToFill withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk163"><span class="nb">unfold</span> possibleToFill <span class="kr">in</span> hPossible.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFillBool withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk164"><span class="nb">unfold</span> possibleToFillBool.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span> bool_decide (<span class="mi">2</span> | length withBlanks)
<span class="kr">then</span>
 <span class="kr">if</span>
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketOpen)
     ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketClose)
     ‚â§ length withBlanks `div` <span class="mi">2</span>)
 <span class="kr">then</span>
  isBalancedBool
    (fill withBlanks (getWitness withBlanks))
 <span class="kr">else</span> false
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk165">case_bool_decide <span class="kr">as</span> hEven.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk166" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk166"><hr></label><div class="goal-conclusion">false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk167">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">shelve</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk168">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk169"><span class="nb">destruct</span> hPossible <span class="kr">as</span> [toFill [hLength hBalanced]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16a"><span class="nb">pose proof</span> fillPreservesLength withBlanks toFill hLength <span class="kr">as</span> hPreserve.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16b"><span class="nb">pose proof</span> isBalancedEvenLength _ hBalanced.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length (fill withBlanks toFill))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16c"><span class="nb">rewrite</span> hPreserve <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">tauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16d"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk16e">case_bool_decide <span class="kr">as</span> enoughBlanks1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 true &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk16f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk16f"><hr></label><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk170">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 true &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">shelve</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk171">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk172"><span class="nb">destruct</span> hPossible <span class="kr">as</span> [toFill [hLength hBalanced]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk173"><span class="nb">destruct</span> (isBalancedImpliesBalanceFactorBasedDefinition _ hBalanced) <span class="kr">as</span> [hCount _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk174"><span class="nb">pose proof</span> fillPreservesLength withBlanks toFill hLength <span class="kr">as</span> hPreserve.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk175"><span class="nb">rewrite</span> &lt;- hPreserve, &lt;- countOpenPlusCountClose, &lt;- hCount <span class="kr">in</span> enoughBlanks1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk176"><span class="nb">assert</span> (hSimplify : <span class="kr">forall</span> <span class="nv">a</span> : nat, (a + a) / <span class="mi">2</span> = a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk177" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk177"><hr></label><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk178">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk179"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17a"><span class="nb">pose proof</span> Nat.add_b2n_double_div2 false a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.b2n false + <span class="mi">2</span> * a) `div` <span class="mi">2</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17b"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (Nat.divmod
       (countOpen
          (fill withBlanks toFill) +
        countOpen
          (fill withBlanks toFill)) <span class="mi">1</span>
       <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + (a + <span class="mi">0</span>)) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17c"><span class="nb">rewrite</span> Nat.add_0_r <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (Nat.divmod
       (countOpen
          (fill withBlanks toFill) +
        countOpen
          (fill withBlanks toFill)) <span class="mi">1</span>
       <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ (countOpen
       (fill withBlanks toFill) +
     countOpen
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17e"><span class="nb">rewrite</span> hSimplify <span class="kr">in</span> enoughBlanks1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ countOpen (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk17f"><span class="nb">pose proof</span> existingLeqAfterFill withBlanks toFill <span class="kp">ltac</span>:(<span class="bp">lia</span>) BracketOpen <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ countOpen (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ count_occ bracketEqualityDecidable
    (fill withBlanks toFill) BracketOpen</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk180"><span class="nb">rewrite</span> &lt;- foldCountOpen <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)
  ‚â§ countOpen (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ countOpen (fill withBlanks toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 false &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk181"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span>
 true &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk182">case_bool_decide <span class="kr">as</span> enoughBlanks2; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks (getWitness withBlanks))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk183" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk183"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk184">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">shelve</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk185">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk186">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk187"><span class="nb">destruct</span> hPossible <span class="kr">as</span> [toFill [hLength hBalanced]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk188"><span class="nb">destruct</span> (isBalancedImpliesBalanceFactorBasedDefinition _ hBalanced) <span class="kr">as</span> [hCount _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk189"><span class="nb">pose proof</span> fillPreservesLength withBlanks toFill hLength <span class="kr">as</span> hPreserve.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk18a"><span class="nb">rewrite</span> &lt;- hPreserve, &lt;- countOpenPlusCountClose, hCount <span class="kr">in</span> enoughBlanks2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk18b"><span class="nb">assert</span> (hSimplify : <span class="kr">forall</span> <span class="nv">a</span> : nat, (a + a) / <span class="mi">2</span> = a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk18c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk18c"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk18d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk18e"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk18f"><span class="nb">pose proof</span> Nat.add_b2n_double_div2 false a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.b2n false + <span class="mi">2</span> * a) `div` <span class="mi">2</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk190"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (Nat.divmod
       (countClose
          (fill withBlanks toFill) +
        countClose
          (fill withBlanks toFill)) <span class="mi">1</span>
       <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + (a + <span class="mi">0</span>)) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk191"><span class="nb">rewrite</span> Nat.add_0_r <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (Nat.divmod
       (countClose
          (fill withBlanks toFill) +
        countClose
          (fill withBlanks toFill)) <span class="mi">1</span>
       <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk192">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ (countClose
       (fill withBlanks toFill) +
     countClose
       (fill withBlanks toFill))
    `div` <span class="mi">2</span></span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk193"><span class="nb">rewrite</span> hSimplify <span class="kr">in</span> enoughBlanks2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ countClose
      (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk194"><span class="nb">pose proof</span> existingLeqAfterFill withBlanks toFill <span class="kp">ltac</span>:(<span class="bp">lia</span>) BracketClose <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ countClose
      (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ count_occ bracketEqualityDecidable
    (fill withBlanks toFill) BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk195"><span class="nb">rewrite</span> &lt;- foldCountClose <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>¬¨ count_occ
    optionBracketEqualityDecidable
    withBlanks (Some BracketClose)
  ‚â§ countClose
      (fill withBlanks toFill)</span></span></span><br><span><var>hCount</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks toFill) =
countClose (fill withBlanks toFill)</span></span></span><br><span><var>hPreserve</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ countClose (fill withBlanks toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk196"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>hPossible</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚àß isBalanced (fill withBlanks _0)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk197"><span class="nb">destruct</span> hPossible <span class="kr">as</span> [toFill [hLength hBalanced]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk198"><span class="nb">remember</span> (selectionSort BracketOpen (<span class="nb">compare</span> _ symbolComparator) toFill) <span class="kr">as</span> afterSorting.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk199"><span class="nb">unfold</span> getWitness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19a"><span class="nb">pose proof</span> alwaysSorted (length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen)) (length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)) <span class="kr">as</span> hWitnessSorted.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19b"><span class="nb">pose proof</span> selectionSortCorrect BracketOpen symbolComparator toFill <span class="kr">as</span> hSelectionSort.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19c"><span class="nb">pose proof</span> selectionSortPermutation BracketOpen (<span class="nb">compare</span> _ symbolComparator) toFill <span class="kr">as</span> hPermutation1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19d"><span class="nb">assert</span> (hSimplify : <span class="kr">forall</span> <span class="nv">a</span> : nat, (a + a) / <span class="mi">2</span> = a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk19e"><hr></label><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk19f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a0"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a1"><span class="nb">pose proof</span> Nat.add_b2n_double_div2 false a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>(Nat.b2n false + <span class="mi">2</span> * a) `div` <span class="mi">2</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + a) `div` <span class="mi">2</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a2"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen compareSymbols toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen compareSymbols
  (<span class="kp">repeat</span> BracketOpen
     ((Nat.divmod (length withBlanks)
         <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     ((Nat.divmod (length withBlanks)
         <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen compareSymbols
  (selectionSort BracketOpen
     compareSymbols toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     compareSymbols toFill</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + (a + <span class="mi">0</span>)) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a3"><span class="nb">rewrite</span> Nat.add_0_r <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ (Nat.divmod (length withBlanks) <span class="mi">1</span> <span class="mi">0</span>
     <span class="mi">1</span>).<span class="mi">1</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen compareSymbols toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen compareSymbols
  (<span class="kp">repeat</span> BracketOpen
     ((Nat.divmod (length withBlanks)
         <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     ((Nat.divmod (length withBlanks)
         <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen compareSymbols
  (selectionSort BracketOpen
     compareSymbols toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     compareSymbols toFill</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Nat.divmod (a + a) <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span>).<span class="mi">1</span> = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a4">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a5"><span class="nb">assert</span> (hCountBalanced : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">symbol</span>, isBalanced x -&gt; count_occ bracketEqualityDecidable x symbol = length x / <span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1a6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1a6"><hr></label><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a7">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a8"><span class="nb">intros</span> x symbol h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable x symbol =
length x `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1a9"><span class="nb">destruct</span> (isBalancedImpliesBalanceFactorBasedDefinition _ h) <span class="kr">as</span> [h1 h2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced x</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen x = countClose x</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0 `prefix_of` x ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable x symbol =
length x `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1aa"><span class="nb">rewrite</span> &lt;- countOpenPlusCountClose, h1, hSimplify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>symbol</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced x</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>countOpen x = countClose x</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  _0 `prefix_of` x ‚Üí countOpen _0 ‚â• countClose _0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable x symbol =
countClose x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> symbol; <span class="nb">rewrite</span> &lt;- <span class="nl">?foldCountClose</span>, &lt;- <span class="nl">?foldCountOpen</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ab">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ac"><span class="nb">assert</span> (hPermutation2 : Permutation toFill (<span class="kp">repeat</span> BracketOpen (length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen)) ++ <span class="kp">repeat</span> BracketClose (length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toFill
‚â°‚Çö <span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö <span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketClose))</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1ad"><hr></label><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ae">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">toFill
‚â°‚Çö <span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1af"><span class="nb">rewrite</span> (Permutation_count_occ bracketEqualityDecidable).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">_0</span> : Bracket,
  count_occ bracketEqualityDecidable toFill _0 =
  count_occ bracketEqualityDecidable
    (<span class="kp">repeat</span> BracketOpen
       (length withBlanks `div` <span class="mi">2</span> -
        count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)) ++
     <span class="kp">repeat</span> BracketClose
       (length withBlanks `div` <span class="mi">2</span> -
        count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketClose))) _0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b0"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill x =
count_occ bracketEqualityDecidable
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b1"><span class="nb">rewrite</span> count_occ_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill x =
count_occ bracketEqualityDecidable
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen))) x +
count_occ bracketEqualityDecidable
  (<span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b2"><span class="nb">pose proof</span> countSymbolAfterFill withBlanks toFill hLength x <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some x) +
count_occ bracketEqualityDecidable toFill x =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill x =
count_occ bracketEqualityDecidable
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen))) x +
count_occ bracketEqualityDecidable
  (<span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b3"><span class="nb">destruct</span> x; <span class="nb">rewrite</span> ?(@count_occ_repeat_neq Bracket bracketEqualityDecidable BracketOpen BracketClose), ?(@count_occ_repeat_neq Bracket bracketEqualityDecidable BracketClose BracketOpen), <span class="nl">?Nat</span>.add_0_l, <span class="nl">?Nat</span>.add_0_r; <span class="kp">try</span> <span class="bp">easy</span>; <span class="nb">rewrite</span> count_occ_repeat_eq; <span class="kp">try</span> <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ bracketEqualityDecidable toFill
  BracketOpen =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketOpen =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1b4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) +
count_occ bracketEqualityDecidable toFill
  BracketClose =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1b4"><hr></label><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketClose =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ bracketEqualityDecidable toFill
  BracketOpen =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketOpen =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b6"><span class="nb">pose proof</span> hCountBalanced (fill withBlanks toFill) BracketOpen <span class="kp">ltac</span>:(<span class="bp">assumption</span>) <span class="kr">as</span> H&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ bracketEqualityDecidable toFill
  BracketOpen =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen =
length (fill withBlanks toFill) `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketOpen =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b7"><span class="nb">pose proof</span> (fillPreservesLength withBlanks toFill <span class="kp">ltac</span>:(<span class="bp">assumption</span>)) <span class="kr">as</span> hRewrite.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ bracketEqualityDecidable toFill
  BracketOpen =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen =
length (fill withBlanks toFill) `div` <span class="mi">2</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketOpen =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b8"><span class="nb">rewrite</span> hRewrite <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ bracketEqualityDecidable toFill
  BracketOpen =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketOpen =
length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketOpen =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1b9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) +
count_occ bracketEqualityDecidable toFill
  BracketClose =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketClose =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ba"><span class="nb">pose proof</span> hCountBalanced (fill withBlanks toFill) BracketClose <span class="kp">ltac</span>:(<span class="bp">assumption</span>) <span class="kr">as</span> H&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) +
count_occ bracketEqualityDecidable toFill
  BracketClose =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose =
length (fill withBlanks toFill) `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketClose =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1bb"><span class="nb">pose proof</span> (fillPreservesLength withBlanks toFill <span class="kp">ltac</span>:(<span class="bp">assumption</span>)) <span class="kr">as</span> hRewrite.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) +
count_occ bracketEqualityDecidable toFill
  BracketClose =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose =
length (fill withBlanks toFill) `div` <span class="mi">2</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketClose =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1bc"><span class="nb">rewrite</span> hRewrite <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) +
count_occ bracketEqualityDecidable toFill
  BracketClose =
count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>count_occ bracketEqualityDecidable
  (fill withBlanks toFill) BracketClose =
length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>hRewrite</var><span class="hyp-type"><b>: </b><span>length (fill withBlanks toFill) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable toFill BracketClose =
length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1bd">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö <span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1be"><span class="nb">symmetry in</span> hPermutation2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1bf"><span class="nb">pose proof</span> (perm_trans hPermutation2 hPermutation1) <span class="kr">as</span> hPermutation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (<span class="kp">repeat</span> BracketOpen
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketOpen)) ++
      <span class="kp">repeat</span> BracketClose
        (length withBlanks `div` <span class="mi">2</span> -
         count_occ optionBracketEqualityDecidable
           withBlanks 
           (Some BracketClose))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c0"><span class="nb">rewrite</span> (sortedArraysEqual hPermutation hWitnessSorted <span class="kp">ltac</span>:(<span class="bp">assumption</span>) <span class="kp">ltac</span>:(<span class="nb">intros</span> a b; <span class="nb">destruct</span> a; <span class="nb">destruct</span> b; <span class="kp">try</span> (<span class="nb">left</span>; <span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">left</span>; <span class="nb">right</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="nb">right</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">left</span>; <span class="bp">easy</span>); <span class="kp">try</span> (<span class="nb">right</span>; <span class="bp">easy</span>))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (selectionSort BracketOpen
        (<span class="nb">compare</span> Bracket symbolComparator) toFill))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c1"><span class="nb">epose proof</span> propertyPreservedAfterSorting BracketOpen symbolComparator toFill (satisfactoryWitness withBlanks) _ _ <span class="kr">as</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>satisfactoryWitness withBlanks
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator) toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalancedBool
  (fill withBlanks
     (selectionSort BracketOpen
        (<span class="nb">compare</span> Bracket symbolComparator) toFill))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c2"><span class="nb">rewrite</span> &lt;- isBalancedIffIsBalancedBool.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>satisfactoryWitness withBlanks
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator) toFill)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced
  (fill withBlanks
     (selectionSort BracketOpen
        (<span class="nb">compare</span> Bracket symbolComparator) toFill))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (proj2 H).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c3"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list Bracket) (<span class="nv">_3</span> <span class="nv">_4</span> : Bracket),
  <span class="nb">compare</span> Bracket symbolComparator _4 _3
  ‚Üí satisfactoryWitness withBlanks
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí satisfactoryWitness withBlanks
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1c4"><hr></label><div class="goal-conclusion">satisfactoryWitness withBlanks toFill</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c5">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">_0</span> <span class="nv">_1</span> <span class="nv">_2</span> : list Bracket) (<span class="nv">_3</span> <span class="nv">_4</span> : Bracket),
  <span class="nb">compare</span> Bracket symbolComparator _4 _3
  ‚Üí satisfactoryWitness withBlanks
      (_0 ++ [_3] ++ _1 ++ [_4] ++ _2)
    ‚Üí satisfactoryWitness withBlanks
        (_0 ++ [_4] ++ _1 ++ [_3] ++ _2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c6"><span class="nb">intros</span> l1 l2 l3 a1 a2 h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>l1, l2, l3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>a1, a2</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> Bracket symbolComparator a2 a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks
  (l1 ++ [a1] ++ l2 ++ [a2] ++ l3)
‚Üí satisfactoryWitness withBlanks
    (l1 ++ [a2] ++ l2 ++ [a1] ++ l3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c7"><span class="nb">destruct</span> a1; <span class="nb">destruct</span> a2; <span class="kp">try</span> <span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>l1, l2, l3</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="nb">compare</span> Bracket symbolComparator BracketOpen
  BracketClose</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks
  (l1 ++ [BracketClose] ++ l2 ++ [BracketOpen] ++ l3)
‚Üí satisfactoryWitness withBlanks
    (l1 ++ [BracketOpen] ++ l2 ++ [BracketClose] ++ l3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> canAlwaysSwapCloseAndOpenInWitness.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c8">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks toFill</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1c9">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>toFill</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hLength</var><span class="hyp-type"><b>: </b><span>length toFill =
count_occ optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks toFill)</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>enoughBlanks1</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>enoughBlanks2</var><span class="hyp-type"><b>: </b><span>count_occ
  optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>afterSorting</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>afterSorting =
selectionSort BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator) toFill</span></span></span><br><span><var>hWitnessSorted</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ
        optionBracketEqualityDecidable
        withBlanks
        (Some BracketClose)))</span></span></span><br><span><var>hSelectionSort</var><span class="hyp-type"><b>: </b><span>sorted BracketOpen
  (<span class="nb">compare</span> Bracket symbolComparator)
  (selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket
        symbolComparator) toFill)</span></span></span><br><span><var>hPermutation1</var><span class="hyp-type"><b>: </b><span>toFill
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br><span><var>hSimplify</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : nat, (_0 + _0) `div` <span class="mi">2</span> = _0</span></span></span><br><span><var>hCountBalanced</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">_0</span> : list Bracket) (<span class="nv">_1</span> : Bracket),
  isBalanced _0
  ‚Üí count_occ
      bracketEqualityDecidable _0 _1 =
    length _0 `div` <span class="mi">2</span></span></span></span><br><span><var>hPermutation2</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö toFill</span></span></span><br><span><var>hPermutation</var><span class="hyp-type"><b>: </b><span><span class="kp">repeat</span> BracketOpen
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketOpen)) ++
<span class="kp">repeat</span> BracketClose
  (length withBlanks `div` <span class="mi">2</span> -
   count_occ
     optionBracketEqualityDecidable
     withBlanks (Some BracketClose))
‚â°‚Çö selectionSort BracketOpen
     (<span class="nb">compare</span> Bracket symbolComparator)
     toFill</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfactoryWitness withBlanks toFill</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="bp">lia</span> | <span class="bp">assumption</span>].</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFillBool withBlanks
‚Üí possibleToFill withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1cb"><span class="nb">intro</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">possibleToFill withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1cc"><span class="kr">exists</span> (<span class="nv">getWitness</span> <span class="nv">withBlanks</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None
‚àß isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1cd"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1ce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1ce"><hr></label><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1cf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d0"><span class="nb">unfold</span> getWitness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d1"><span class="nb">rewrite</span> app_length, <span class="nl">?repeat_length</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d2"><span class="nb">assert</span> (H : length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) + (length withBlanks / <span class="mi">2</span> - count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)) = <span class="mi">2</span> * (length withBlanks / <span class="mi">2</span>) - (count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) + count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1d3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1d3"><hr></label><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d4">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d5"><span class="nb">assert</span> (H1 : length withBlanks / <span class="mi">2</span> &gt;= count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable withBlanks
    (Some BracketOpen)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1d6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1d6"><hr></label><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d7">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable withBlanks
    (Some BracketOpen)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> h; case_bool_decide; <span class="kp">try</span> case_bool_decide; <span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d8">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1d9"><span class="nb">assert</span> (H2 : length withBlanks / <span class="mi">2</span> &gt;= count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable withBlanks
    (Some BracketClose)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketClose)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1da"><hr></label><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1db">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable withBlanks
    (Some BracketClose)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> h; case_bool_decide; <span class="kp">try</span> case_bool_decide; <span class="nb">simpl</span> <span class="kr">in</span> h; <span class="kp">try</span> case_bool_decide; <span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1dc">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketOpen)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span>
‚â• count_occ optionBracketEqualityDecidable
    withBlanks (Some BracketClose)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1dd">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1de"><span class="nb">assert</span> (H1 : (<span class="mi">2</span> * length withBlanks) / <span class="mi">2</span> = length withBlanks).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> = length withBlanks</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1df" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1df"><hr></label><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e0">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e1"><span class="nb">rewrite</span> Nat.mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(length withBlanks * <span class="mi">2</span>) `div` <span class="mi">2</span> = length withBlanks</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e2"><span class="nb">apply</span> Nat.div_mul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â† <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e3">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e4"><span class="nb">rewrite</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e5"><span class="nb">rewrite</span> &lt;- (Nat.Lcm0.divide_div_mul_exact _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1e6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1e6"><hr></label><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e7">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e8"><span class="nb">rewrite</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks -
(count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1e9"><span class="nb">rewrite</span> subtractToCountNone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  None =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ea">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1eb"><span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> bool_decide (<span class="mi">2</span> | length withBlanks)
<span class="kr">then</span>
 <span class="kr">if</span>
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketOpen)
     ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketClose)
     ‚â§ length withBlanks `div` <span class="mi">2</span>)
 <span class="kr">then</span>
  isBalancedBool
    (fill withBlanks (getWitness withBlanks))
 <span class="kr">else</span> false
<span class="kr">else</span> false</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose)) =
<span class="mi">2</span> * length withBlanks `div` <span class="mi">2</span> -
(count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketOpen) +
 count_occ optionBracketEqualityDecidable
   withBlanks (Some BracketClose))</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> * length withBlanks) `div` <span class="mi">2</span> =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input">case_bool_decide; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ec">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ed"><span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> bool_decide (<span class="mi">2</span> | length withBlanks)
<span class="kr">then</span>
 <span class="kr">if</span>
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketOpen)
     ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketClose)
     ‚â§ length withBlanks `div` <span class="mi">2</span>)
 <span class="kr">then</span>
  isBalancedBool
    (fill withBlanks (getWitness withBlanks))
 <span class="kr">else</span> false
<span class="kr">else</span> false</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ee">case_bool_decide.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk1ef" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>false</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk1ef"><hr></label><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f0">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">case_bool_decide; <span class="kp">try</span> case_bool_decide; <span class="nb">simpl</span> <span class="kr">in</span> h; <span class="kp">try</span> <span class="nb">rewrite</span> &lt;- isBalancedIffIsBalancedBool <span class="kr">in</span> h; <span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f1">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>false</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* get a nice package of everything you&#39;ll ever need if you already have a witness *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f2"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : isBalanced (fill withBlanks (getWitness withBlanks)) /\ (<span class="mi">2</span> | length withBlanks) /\ (count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) &lt;= length withBlanks / <span class="mi">2</span>) /\ (count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) &lt;= length withBlanks / <span class="mi">2</span>) /\ length (getWitness withBlanks) = count_occ optionBracketEqualityDecidable withBlanks None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f4"><span class="nb">pose proof</span> proj1 (possibleToFillIffPossibleToFillBool withBlanks) (ex_intro _ witness (conj hCorrectLength hBalanced)) <span class="kr">as</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>possibleToFillBool withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f5"><span class="nb">unfold</span> possibleToFillBool <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> bool_decide (<span class="mi">2</span> | length withBlanks)
<span class="kr">then</span>
 <span class="kr">if</span>
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketOpen)
     ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
  bool_decide
    (count_occ optionBracketEqualityDecidable
       withBlanks (Some BracketClose)
     ‚â§ length withBlanks `div` <span class="mi">2</span>)
 <span class="kr">then</span>
  isBalancedBool
    (fill withBlanks (getWitness withBlanks))
 <span class="kr">else</span> false
<span class="kr">else</span> false</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f6">case_bool_decide <span class="kr">as</span> hEven; <span class="kp">try</span> <span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span>
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>) &amp;&amp;
 bool_decide
   (count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketClose)
    ‚â§ length withBlanks `div` <span class="mi">2</span>)
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f7"><span class="kp">repeat</span> (case_bool_decide; <span class="kp">try</span> <span class="bp">easy</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> true &amp;&amp; true
<span class="kr">then</span>
 isBalancedBool
   (fill withBlanks (getWitness withBlanks))
<span class="kr">else</span> false</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f8"><span class="nb">simpl</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalancedBool
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1f9"><span class="nb">rewrite</span> &lt;- isBalancedIffIsBalancedBool <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))
‚àß (<span class="mi">2</span> | length withBlanks)
  ‚àß count_occ optionBracketEqualityDecidable
      withBlanks (Some BracketOpen)
    ‚â§ length withBlanks `div` <span class="mi">2</span>
    ‚àß count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose)
      ‚â§ length withBlanks `div` <span class="mi">2</span>
      ‚àß length (getWitness withBlanks) =
        count_occ optionBracketEqualityDecidable
          withBlanks None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1fa"><span class="nb">intuition</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1fb"><span class="nb">unfold</span> getWitness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>hEven</var><span class="hyp-type"><b>: </b><span>(<span class="mi">2</span> | length withBlanks)</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1fc"><span class="nb">destruct</span> hEven <span class="kr">as</span> [w h&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  (<span class="kp">repeat</span> BracketOpen
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketOpen)) ++
   <span class="kp">repeat</span> BracketClose
     (length withBlanks `div` <span class="mi">2</span> -
      count_occ optionBracketEqualityDecidable
        withBlanks (Some BracketClose))) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1fd"><span class="nb">rewrite</span> app_length, <span class="nl">?repeat_length</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1fe"><span class="nb">pose proof</span> addThreeTypes withBlanks.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk1ff"><span class="nb">assert</span> (hDiv : w * <span class="mi">2</span> / <span class="mi">2</span> = w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(w * <span class="mi">2</span>) `div` <span class="mi">2</span> = w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk200" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br><span><var>hDiv</var><span class="hyp-type"><b>: </b><span>(w * <span class="mi">2</span>) `div` <span class="mi">2</span> = w</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk200"><hr></label><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk201">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(w * <span class="mi">2</span>) `div` <span class="mi">2</span> = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> Nat.div_mul.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk202">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br><span><var>hDiv</var><span class="hyp-type"><b>: </b><span>(w * <span class="mi">2</span>) `div` <span class="mi">2</span> = w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk203"><span class="nb">rewrite</span> &lt;- h&#39; <span class="kr">in</span> hDiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>isBalanced
  (fill withBlanks (getWitness withBlanks))</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>length withBlanks = w * <span class="mi">2</span></span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_1</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose)
‚â§ length withBlanks `div` <span class="mi">2</span></span></span></span><br><span><var>_2</var><span class="hyp-type"><b>: </b><span>count_occ optionBracketEqualityDecidable
  withBlanks None +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketOpen) +
count_occ optionBracketEqualityDecidable
  withBlanks (Some BracketClose) =
length withBlanks</span></span></span><br><span><var>hDiv</var><span class="hyp-type"><b>: </b><span>length withBlanks `div` <span class="mi">2</span> = w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length withBlanks `div` <span class="mi">2</span> -
count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
(length withBlanks `div` <span class="mi">2</span> -
 count_occ optionBracketEqualityDecidable withBlanks
   (Some BracketClose)) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk204"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_1</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : isBalanced (fill withBlanks (getWitness withBlanks)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk205"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk206"><span class="nb">pose proof</span> fromArbitraryWitness withBlanks witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)
‚Üí length witness =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚Üí isBalanced
      (fill withBlanks (getWitness withBlanks))
    ‚àß (<span class="mi">2</span> | length withBlanks)
      ‚àß count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)
        ‚â§ length withBlanks `div` <span class="mi">2</span>
        ‚àß count_occ
            optionBracketEqualityDecidable
            withBlanks 
            (Some BracketClose)
          ‚â§ length withBlanks `div` <span class="mi">2</span>
          ‚àß length (getWitness withBlanks) =
            count_occ
              optionBracketEqualityDecidable
              withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">isBalanced (fill withBlanks (getWitness withBlanks))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk207"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_2</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : (<span class="mi">2</span> | length withBlanks).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk208"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk209"><span class="nb">pose proof</span> fromArbitraryWitness withBlanks witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)
‚Üí length witness =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚Üí isBalanced
      (fill withBlanks (getWitness withBlanks))
    ‚àß (<span class="mi">2</span> | length withBlanks)
      ‚àß count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)
        ‚â§ length withBlanks `div` <span class="mi">2</span>
        ‚àß count_occ
            optionBracketEqualityDecidable
            withBlanks 
            (Some BracketClose)
          ‚â§ length withBlanks `div` <span class="mi">2</span>
          ‚àß length (getWitness withBlanks) =
            count_occ
              optionBracketEqualityDecidable
              withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> | length withBlanks)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20a"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_3</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) &lt;= length withBlanks / <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) ‚â§ length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) ‚â§ 
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20c"><span class="nb">pose proof</span> fromArbitraryWitness withBlanks witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)
‚Üí length witness =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚Üí isBalanced
      (fill withBlanks (getWitness withBlanks))
    ‚àß (<span class="mi">2</span> | length withBlanks)
      ‚àß count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)
        ‚â§ length withBlanks `div` <span class="mi">2</span>
        ‚àß count_occ
            optionBracketEqualityDecidable
            withBlanks 
            (Some BracketClose)
          ‚â§ length withBlanks `div` <span class="mi">2</span>
          ‚àß length (getWitness withBlanks) =
            count_occ
              optionBracketEqualityDecidable
              withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) ‚â§ 
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20d"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_4</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) &lt;= length withBlanks / <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) ‚â§ length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) ‚â§ 
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk20f"><span class="nb">pose proof</span> fromArbitraryWitness withBlanks witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)
‚Üí length witness =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚Üí isBalanced
      (fill withBlanks (getWitness withBlanks))
    ‚àß (<span class="mi">2</span> | length withBlanks)
      ‚àß count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)
        ‚â§ length withBlanks `div` <span class="mi">2</span>
        ‚àß count_occ
            optionBracketEqualityDecidable
            withBlanks 
            (Some BracketClose)
          ‚â§ length withBlanks `div` <span class="mi">2</span>
          ‚àß length (getWitness withBlanks) =
            count_occ
              optionBracketEqualityDecidable
              withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) ‚â§ 
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk210"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_5</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : length (getWitness withBlanks) = count_occ optionBracketEqualityDecidable withBlanks None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk211"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk212"><span class="nb">pose proof</span> fromArbitraryWitness withBlanks witness.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>_0</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)
‚Üí length witness =
  count_occ optionBracketEqualityDecidable
    withBlanks None
  ‚Üí isBalanced
      (fill withBlanks (getWitness withBlanks))
    ‚àß (<span class="mi">2</span> | length withBlanks)
      ‚àß count_occ optionBracketEqualityDecidable
          withBlanks (Some BracketOpen)
        ‚â§ length withBlanks `div` <span class="mi">2</span>
        ‚àß count_occ
            optionBracketEqualityDecidable
            withBlanks 
            (Some BracketClose)
          ‚â§ length withBlanks `div` <span class="mi">2</span>
          ‚àß length (getWitness withBlanks) =
            count_occ
              optionBracketEqualityDecidable
              withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (getWitness withBlanks) =
count_occ optionBracketEqualityDecidable withBlanks
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk213"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_countOpen</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : count_occ optionBracketEqualityDecidable withBlanks (Some BracketOpen) + count_occ bracketEqualityDecidable witness BracketOpen = length withBlanks / <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk214"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk215"><span class="nb">pose proof</span> countOpenEqHalfLength (fill withBlanks witness) hBalanced <span class="kr">as</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks witness) =
length (fill withBlanks witness) `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk216"><span class="nb">rewrite</span> fillPreservesLength <span class="kr">in</span> h; <span class="kp">try</span> <span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks witness) =
length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk217"><span class="nb">rewrite</span> &lt;- h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countOpen (fill withBlanks witness) =
length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill withBlanks witness)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk218"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| [head |] tail IH] <span class="kr">in</span> hCorrectLength, witness |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill [] witness)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk219" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketOpen) +
    count_occ bracketEqualityDecidable _0
      BracketOpen = countOpen (fill tail _0)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk219"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some head :: tail) 
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill (Some head :: tail) witness)</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk21a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketOpen) +
    count_occ bracketEqualityDecidable _0
      BracketOpen = countOpen (fill tail _0)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk21a"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: tail) (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill (None :: tail) witness)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk21b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill [] witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk21c"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable witness BracketOpen =
countOpen []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk21d"><span class="nb">rewrite</span> (nil_length_inv _ hCorrectLength).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable [] BracketOpen =
countOpen []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk21e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketOpen) +
    count_occ bracketEqualityDecidable _0
      BracketOpen = countOpen (fill tail _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some head :: tail) 
  (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill (Some head :: tail) witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> head; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> <span class="nl">?countOpenConsOpen</span>, <span class="nl">?countOpenConsClose</span>, IH; <span class="kp">try</span> (<span class="bp">lia</span> || <span class="bp">done</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk21f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketOpen) +
    count_occ bracketEqualityDecidable _0
      BracketOpen = countOpen (fill tail _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: tail) (Some BracketOpen) +
count_occ bracketEqualityDecidable witness BracketOpen =
countOpen (fill (None :: tail) witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> witness <span class="kr">as</span> [| head1 tail1]; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="kp">try</span> <span class="nb">destruct</span> head1; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> <span class="nl">?countOpenConsOpen</span>, <span class="nl">?countOpenConsClose</span>; <span class="kp">try</span> <span class="bp">lia</span>; <span class="nb">pose proof</span> IH tail1 <span class="kp">ltac</span>:(<span class="bp">lia</span>); <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk220"><span class="kn">Lemma</span> <span class="nf">fromArbitraryWitness_countClose</span> (<span class="nv">withBlanks</span> : list (option Bracket)) (<span class="nv">witness</span> : list Bracket) (<span class="nv">hBalanced</span> : isBalanced (fill withBlanks witness)) (<span class="nv">hCorrectLength</span> : length witness = count_occ optionBracketEqualityDecidable withBlanks None) : count_occ optionBracketEqualityDecidable withBlanks (Some BracketClose) + count_occ bracketEqualityDecidable witness BracketClose = length withBlanks / <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk221"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk222"><span class="nb">pose proof</span> countCloseEqHalfLength (fill withBlanks witness) hBalanced <span class="kr">as</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countClose (fill withBlanks witness) =
length (fill withBlanks witness) `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk223"><span class="nb">rewrite</span> fillPreservesLength <span class="kr">in</span> h; <span class="kp">try</span> <span class="bp">easy</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countClose (fill withBlanks witness) =
length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = length withBlanks `div` <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk224"><span class="nb">rewrite</span> &lt;- h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>withBlanks</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hBalanced</var><span class="hyp-type"><b>: </b><span>isBalanced (fill withBlanks witness)</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  withBlanks None</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>countClose (fill withBlanks witness) =
length withBlanks `div` <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable withBlanks
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = countClose (fill withBlanks witness)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk225"><span class="nb">induction</span> withBlanks <span class="kr">as</span> [| [head |] tail IH] <span class="kr">in</span> hCorrectLength, witness |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = countClose (fill [] witness)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk226" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketClose) +
    count_occ bracketEqualityDecidable _0
      BracketClose = countClose (fill tail _0)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk226"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some head :: tail) 
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose =
countClose (fill (Some head :: tail) witness)</div></blockquote><input class="alectryon-extra-goal-toggle" id="FillInTheBlanks-v-chk227" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketClose) +
    count_occ bracketEqualityDecidable _0
      BracketClose = countClose (fill tail _0)</span></span></span><br></div><label class="goal-separator" for="FillInTheBlanks-v-chk227"><hr></label><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: tail) (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose =
countClose (fill (None :: tail) witness)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk228">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable []
  None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable []
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose = countClose (fill [] witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk229"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable witness
  BracketClose = countClose []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk22a"><span class="nb">rewrite</span> (nil_length_inv _ hCorrectLength).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ bracketEqualityDecidable [] BracketClose =
countClose []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">easy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk22b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>head</var><span class="hyp-type"><b>: </b><span>Bracket</span></span></span><br><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (Some head :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketClose) +
    count_occ bracketEqualityDecidable _0
      BracketClose = countClose (fill tail _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (Some head :: tail) 
  (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose =
countClose (fill (Some head :: tail) witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> head; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> <span class="nl">?countCloseConsOpen</span>, <span class="nl">?countCloseConsClose</span>, IH; <span class="kp">try</span> (<span class="bp">done</span> || <span class="bp">lia</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="FillInTheBlanks-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="FillInTheBlanks-v-chk22c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>tail</var><span class="hyp-type"><b>: </b><span>list (option Bracket)</span></span></span><br><span><var>witness</var><span class="hyp-type"><b>: </b><span>list Bracket</span></span></span><br><span><var>hCorrectLength</var><span class="hyp-type"><b>: </b><span>length witness =
count_occ
  optionBracketEqualityDecidable
  (None :: tail) None</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">_0</span> : list Bracket,
  length _0 =
  count_occ optionBracketEqualityDecidable tail
    None
  ‚Üí count_occ optionBracketEqualityDecidable tail
      (Some BracketClose) +
    count_occ bracketEqualityDecidable _0
      BracketClose = countClose (fill tail _0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_occ optionBracketEqualityDecidable
  (None :: tail) (Some BracketClose) +
count_occ bracketEqualityDecidable witness
  BracketClose =
countClose (fill (None :: tail) witness)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> witness <span class="kr">as</span> [| head1 tail1]; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="kp">try</span> <span class="nb">destruct</span> head1; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> <span class="nl">?countCloseConsOpen</span>, <span class="nl">?countCloseConsClose</span>; <span class="kp">try</span> <span class="bp">lia</span>; <span class="nb">pose proof</span> IH tail1 <span class="kp">ltac</span>:(<span class="bp">lia</span>); <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span></pre></article></body></html>